{"expireTime":9007200880805332000,"key":"transformer-remark-markdown-html-df48d46bdf4c950065ab3e1dd2a2e38a-gatsby-remark-imagesgatsby-remark-autolink-headersgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<h2 id=\"まず、親ページデータの取得方法\">まず、親ページデータの取得方法</h2>\n<h2 id=\"そもそもセッションってなんぞ？\">そもそもセッションってなんぞ？</h2>\n<blockquote>\n<p>セッションとはサーバーとクライアントとの一連のやりとりのことです。 どのユーザーがアクセスしてきているのか、あるいはこれまでにどのような情報のやり取りが あったのかと?いったことを判断します。 このようなサーバーとクライアント間の情報を管理・保持することをセッション管理と言います。<br>\n<a href=\"http://www.standpower.com/php_session.html\">http://www.standpower.com/php_session.html</a></p>\n</blockquote>\n<h2 id=\"セッションはどうやって管理される？\">セッションはどうやって管理される？</h2>\n<p>サーバーはリクエストがあったクライアントに対して、セッションIDというものを発行し、クライアント側に保存させます。 サーバーはセッションIDとクライアントとのやり取りの情報を保存します。 次回、クライアントがそのサーバーに接続した際に、セッションIDにより それまでにやり取りした情報や記録を保持したものを引き継ぐことができるのです。</p>\n<p>ちなみにクッキーの違う点はクライアント側で情報を保存します。</p>\n<h2 id=\"通常のセッションの保存場所\">通常のセッションの保存場所</h2>\n<p>セッションを利用するためにはphp.iniに以下のような設定が必要になります。</p>\n<ul>\n<li>session.use_trans_sid = on</li>\n<li>session.save_path = 任意のディレクトリ</li>\n</ul>\n<p>これでセッションをスタートさせれば通常セッションが任意のディレクトリ内に保存されるようになりますので、使えるようになるわけです。</p>\n<p>が、</p>\n<p>サーバのセキュリティがガチガチでセッションファイルを書き込むディレクトリーが見当たらないよーと途中からエラーを吐くようになりました。</p>\n<h2 id=\"本題：セッションの保存場所を変えてみよう！\">本題：セッションの保存場所を変えてみよう！</h2>\n<p>ということで仕方ないので、セッションの保存場所をデータベース内に変更することに。</p>\n<p>まずconcrete.phpを作成、application/config内に保存。</p>\n<p>ここにこのファイルを作ることによって、concrete/config/concrete.phpをオーバーライドします。</p>\n<p>すでに他の設定で作っている場合は、return array();の中に以下のようにコードを追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">return array(\n    'session' => array(\n        'handler' => 'database',\n    )\n);</code></pre></div>\n<p>これでセッションはデータベース内に保存されるようになりました。</p>"}