{"expireTime":9007200880801113000,"key":"transformer-remark-markdown-html-ast-df48d46bdf4c950065ab3e1dd2a2e38a-gatsby-remark-imagesgatsby-remark-autolink-headersgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"まず、親ページデータの取得方法"},"children":[{"type":"text","value":"まず、親ページデータの取得方法","position":{"start":{"line":1,"column":4,"offset":3},"end":{"line":1,"column":19,"offset":18}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":19,"offset":18}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"そもそもセッションってなんぞ？"},"children":[{"type":"text","value":"そもそもセッションってなんぞ？","position":{"start":{"line":2,"column":4,"offset":22},"end":{"line":2,"column":19,"offset":37}}}],"position":{"start":{"line":2,"column":1,"offset":19},"end":{"line":2,"column":19,"offset":37}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"セッションとはサーバーとクライアントとの一連のやりとりのことです。 どのユーザーがアクセスしてきているのか、あるいはこれまでにどのような情報のやり取りが あったのかと?いったことを判断します。 このようなサーバーとクライアント間の情報を管理・保持することをセッション管理と言います。","position":{"start":{"line":3,"column":3,"offset":40},"end":{"line":3,"column":144,"offset":181}}},{"type":"raw","value":"<br>","position":{"start":{"line":3,"column":144,"offset":181},"end":{"line":3,"column":148,"offset":185}}},{"type":"text","value":"\n","position":{"start":{"line":3,"column":148,"offset":185},"end":{"line":4,"column":1,"offset":186}}},{"type":"element","tagName":"a","properties":{"href":"http://www.standpower.com/php_session.html"},"children":[{"type":"text","value":"http://www.standpower.com/php_session.html","position":{"start":{"line":4,"column":4,"offset":189},"end":{"line":4,"column":46,"offset":231}}}],"position":{"start":{"line":4,"column":3,"offset":188},"end":{"line":4,"column":91,"offset":276}}}],"position":{"start":{"line":3,"column":3,"offset":40},"end":{"line":4,"column":91,"offset":276}}},{"type":"text","value":"\n"}],"position":{"start":{"line":3,"column":1,"offset":38},"end":{"line":4,"column":91,"offset":276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"セッションはどうやって管理される？"},"children":[{"type":"text","value":"セッションはどうやって管理される？","position":{"start":{"line":6,"column":4,"offset":281},"end":{"line":6,"column":21,"offset":298}}}],"position":{"start":{"line":6,"column":1,"offset":278},"end":{"line":6,"column":21,"offset":298}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"サーバーはリクエストがあったクライアントに対して、セッションIDというものを発行し、クライアント側に保存させます。 サーバーはセッションIDとクライアントとのやり取りの情報を保存します。 次回、クライアントがそのサーバーに接続した際に、セッションIDにより それまでにやり取りした情報や記録を保持したものを引き継ぐことができるのです。","position":{"start":{"line":7,"column":1,"offset":299},"end":{"line":7,"column":168,"offset":466}}}],"position":{"start":{"line":7,"column":1,"offset":299},"end":{"line":7,"column":168,"offset":466}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ちなみにクッキーの違う点はクライアント側で情報を保存します。","position":{"start":{"line":9,"column":1,"offset":468},"end":{"line":9,"column":31,"offset":498}}}],"position":{"start":{"line":9,"column":1,"offset":468},"end":{"line":9,"column":31,"offset":498}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"通常のセッションの保存場所"},"children":[{"type":"text","value":"通常のセッションの保存場所","position":{"start":{"line":11,"column":4,"offset":503},"end":{"line":11,"column":17,"offset":516}}}],"position":{"start":{"line":11,"column":1,"offset":500},"end":{"line":11,"column":17,"offset":516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"セッションを利用するためにはphp.iniに以下のような設定が必要になります。","position":{"start":{"line":12,"column":1,"offset":517},"end":{"line":12,"column":40,"offset":556}}}],"position":{"start":{"line":12,"column":1,"offset":517},"end":{"line":12,"column":40,"offset":556}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"session.use_trans_sid = on","position":{"start":{"line":14,"column":3,"offset":560},"end":{"line":14,"column":29,"offset":586}}}],"position":{"start":{"line":14,"column":1,"offset":558},"end":{"line":14,"column":29,"offset":586}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"session.save_path = 任意のディレクトリ","position":{"start":{"line":15,"column":3,"offset":589},"end":{"line":15,"column":32,"offset":618}}}],"position":{"start":{"line":15,"column":1,"offset":587},"end":{"line":15,"column":32,"offset":618}}},{"type":"text","value":"\n"}],"position":{"start":{"line":14,"column":1,"offset":558},"end":{"line":15,"column":32,"offset":618}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"これでセッションをスタートさせれば通常セッションが任意のディレクトリ内に保存されるようになりますので、使えるようになるわけです。","position":{"start":{"line":16,"column":1,"offset":619},"end":{"line":16,"column":65,"offset":683}}}],"position":{"start":{"line":16,"column":1,"offset":619},"end":{"line":16,"column":65,"offset":683}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"が、","position":{"start":{"line":19,"column":1,"offset":686},"end":{"line":19,"column":3,"offset":688}}}],"position":{"start":{"line":19,"column":1,"offset":686},"end":{"line":19,"column":3,"offset":688}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"サーバのセキュリティがガチガチでセッションファイルを書き込むディレクトリーが見当たらないよーと途中からエラーを吐くようになりました。","position":{"start":{"line":22,"column":1,"offset":691},"end":{"line":22,"column":67,"offset":757}}}],"position":{"start":{"line":22,"column":1,"offset":691},"end":{"line":22,"column":67,"offset":757}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"本題：セッションの保存場所を変えてみよう！"},"children":[{"type":"text","value":"本題：セッションの保存場所を変えてみよう！","position":{"start":{"line":23,"column":4,"offset":761},"end":{"line":23,"column":25,"offset":782}}}],"position":{"start":{"line":23,"column":1,"offset":758},"end":{"line":23,"column":25,"offset":782}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ということで仕方ないので、セッションの保存場所をデータベース内に変更することに。","position":{"start":{"line":24,"column":1,"offset":783},"end":{"line":24,"column":41,"offset":823}}}],"position":{"start":{"line":24,"column":1,"offset":783},"end":{"line":24,"column":41,"offset":823}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"まずconcrete.phpを作成、application/config内に保存。","position":{"start":{"line":26,"column":1,"offset":825},"end":{"line":26,"column":42,"offset":866}}}],"position":{"start":{"line":26,"column":1,"offset":825},"end":{"line":26,"column":42,"offset":866}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ここにこのファイルを作ることによって、concrete/config/concrete.phpをオーバーライドします。","position":{"start":{"line":28,"column":1,"offset":868},"end":{"line":28,"column":60,"offset":927}}}],"position":{"start":{"line":28,"column":1,"offset":868},"end":{"line":28,"column":60,"offset":927}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"すでに他の設定で作っている場合は、return array();の中に以下のようにコードを追記します。","position":{"start":{"line":30,"column":1,"offset":929},"end":{"line":30,"column":52,"offset":980}}}],"position":{"start":{"line":30,"column":1,"offset":929},"end":{"line":30,"column":52,"offset":980}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">return array(\n    'session' => array(\n        'handler' => 'database',\n    )\n);</code></pre></div>","position":{"start":{"line":32,"column":1,"offset":982},"end":{"line":38,"column":4,"offset":1069}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"これでセッションはデータベース内に保存されるようになりました。","position":{"start":{"line":40,"column":1,"offset":1071},"end":{"line":40,"column":32,"offset":1102}}}],"position":{"start":{"line":40,"column":1,"offset":1071},"end":{"line":40,"column":32,"offset":1102}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":41,"column":1,"offset":1103}}}}