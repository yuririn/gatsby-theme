{"expireTime":9007200880808504000,"key":"transformer-remark-markdown-html-f626603774da690cdf204d5f643ad824-gatsby-remark-imagesgatsby-remark-autolink-headersgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<h2 id=\"github-からソースを拾ってこよう\">GitHub からソースを拾ってこよう</h2>\n<p>以下サイトよりダウンロードします。\nClone or download をクリック後、Download ZIPでおっけーです。</p>\n<p><a href=\"https://github.com/hsnaydd/moveTo\">https://github.com/hsnaydd/moveTo</a></p>\n<p>dist/内に moveTo.js と moveTo.min.js がありますので、後者のミニファイ（圧縮）されたファイルの方を使いましょう。</p>\n<h2 id=\"ページ内リンクをスムーズスクロール設定する\">ページ内リンクをスムーズスクロール設定する</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const moveto = new MoveTo({\n  tolerance: 0,\n  duration: 800,\n  easing: 'easeOutQuart'\n})</code></pre></div>\n<table>\n<thead>\n<tr>\n<th>値</th>\n<th>内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tolerance</td>\n<td>スクロール到達地点の許容誤差を補正。初期値は「0」。ヘッダー固定などしているときは少し調整すると良い。</td>\n</tr>\n<tr>\n<td>duration</td>\n<td>移動時間をミリ秒単位で指定できる。初期値は「800」。</td>\n</tr>\n<tr>\n<td>easing</td>\n<td>スクロールのイージング描画の種類を指定します。初期値は「easeOutQuart」。</td>\n</tr>\n<tr>\n<td>callback</td>\n<td>スクロール終了時に実行される処理を指定可能。</td>\n</tr>\n</tbody>\n</table>\n<p>初期値のままで使いたい場合は、以下のように指定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const moveto = new MoveTo()</code></pre></div>\n<p>スクロール終了時に何かしら処理を加えることもできます。コールバックを指定したいときはこんな感じで書けばおっけー。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const moveto = new MoveTo({\n  callback: function () {\n    alert('スクロールしたよ！')\n  }\n})</code></pre></div>\n<h3 id=\"個別に設定する\">個別に設定する</h3>\n<p>class を js-trigger に設定するとスクロールの対象になります。<br>\nターゲットの設定は aタグであれば href属性にまんま書いてもいいし、ボタンタグなどであればカスタム属性 data-taget の値に指定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;a class=\"js-trigger\" data-mt-duration=\"300\" href=\"#target\">Trigger&lt;/a>\n&lt;button class=\"js-trigger\" data-mt-duration=\"300\" data-target=\"#target\" type=\"button\">Trigger&lt;/button></code></pre></div>\n<h3 id=\"まとめて設定する\">まとめて設定する</h3>\n<p>#(ハッシュ)から始まる href の値が指定してあるaタグのみスムーズスクロールできるようにします。\nちなみに href は hypertext reference の略です。\n<code class=\"language-text\">href^=</code>で値が#から始まる aタグのみを配列化できます。</p>\n<p><code class=\"language-text\">forEach()</code>を使って一気に指定することも可能です。モダンブラウザであれば、<code class=\"language-text\">Array.prototype.slice.call</code>の指定は必要ありませんが、IE11では動きません！IE対策のために一行追加しましょう。</p>\n<p>moveto.registerTrigger()で何をクリックしたら、moveTo が動くかを設定してやります。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let anchorTags = document.querySelectorAll('a[href^=\"#\"]')\nanchorTags = Array.prototype.slice.call(anchorTags, 0)//IE対策\nanchorTags.forEach((value) => {\n  moveto.registerTrigger(value)\n})</code></pre></div>\n<h2 id=\"webpack-から追加してみる\">webpack から追加してみる</h2>\n<p>せっかくなので webpack で js もワンソース化しましょう。私は gulp と webpack 使ってます。<code class=\"language-text\">npm install</code> で追加してます。</p>\n<p>webpack が入っていない人は入れてください。後日 webpack の導入の仕方は別に記事書きます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install webpack webpack-stream -D</code></pre></div>\n<p>moveTo をインストールします。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install moveto -D</code></pre></div>\n<h3 id=\"最新の-webpack-の場合\">最新の webpack の場合</h3>\n<p>最新の webpack (4系)であれば webpack ムダに指示を書く必要はありません。<br>\nimport で呼び出せます。なんて楽ちん。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import MoveTo from 'moveto'\nconst moveto = new MoveTo()\nlet anchorTags = document.querySelectorAll('a[href^=\"#\"]')\nanchorTags = Array.prototype.slice.call(anchorTags, 0)//IE対策\nanchorTags.forEach(　(value) => {\n  moveto.registerTrigger(value)\n})</code></pre></div>\n<h2 id=\"まとめ\">まとめ</h2>\n<p>いかがでしたか？<br>\njQueryなしでわりかし簡単に設定できるしとにかく軽いのは嬉しいです。ぜひ使ってみてください。</p>\n<p>追記 : 12/14に<a href=\"https://twitter.com/eielh/status/1073557594751459328\">指摘</a>を受け、記事を修正・追記いたしました。</p>"}