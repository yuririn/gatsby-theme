{"expireTime":9007200880805331000,"key":"transformer-remark-markdown-html-ast-9e8009aeda28ceb1bc13ebdc7a2ed591-gatsby-remark-imagesgatsby-remark-autolink-headersgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"h3","properties":{"id":"この記事の対象"},"children":[{"type":"text","value":"この記事の対象","position":{"start":{"line":1,"column":5,"offset":4},"end":{"line":1,"column":12,"offset":11}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":12,"offset":11}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"WordPressを少し改造したり、カスタマイズできる","position":{"start":{"line":2,"column":3,"offset":14},"end":{"line":2,"column":30,"offset":41}}}],"position":{"start":{"line":2,"column":1,"offset":12},"end":{"line":2,"column":30,"offset":41}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"WordPressでブログをカスタマイズしたい","position":{"start":{"line":3,"column":3,"offset":44},"end":{"line":3,"column":26,"offset":67}}}],"position":{"start":{"line":3,"column":1,"offset":42},"end":{"line":3,"column":26,"offset":67}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HTMLやCSSがわかる","position":{"start":{"line":4,"column":3,"offset":70},"end":{"line":4,"column":15,"offset":82}}}],"position":{"start":{"line":4,"column":1,"offset":68},"end":{"line":4,"column":15,"offset":82}}},{"type":"text","value":"\n"}],"position":{"start":{"line":2,"column":1,"offset":12},"end":{"line":4,"column":15,"offset":82}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"msg-baloon\">\n<p><img src=\"/static/ecd737bbd9e6b99fd33fbd308f2b88e8/f836f/camille.jpg\">かみーゆ</p>\n<p>簡単な実装から順番に紹介していきます！！！</p>\n</div>","position":{"start":{"line":6,"column":1,"offset":84},"end":{"line":9,"column":7,"offset":226}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"ショートコードの作り方"},"children":[{"type":"text","value":"ショートコードの作り方","position":{"start":{"line":11,"column":4,"offset":231},"end":{"line":11,"column":15,"offset":242}}}],"position":{"start":{"line":11,"column":1,"offset":228},"end":{"line":11,"column":15,"offset":242}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ショートタグは投稿でphpの代わりに使えるワードプレス専用のタグです。","position":{"start":{"line":12,"column":1,"offset":243},"end":{"line":12,"column":36,"offset":278}}}],"position":{"start":{"line":12,"column":1,"offset":243},"end":{"line":12,"column":36,"offset":278}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://wpdocs.osdn.jp/%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89_API"},"children":[{"type":"text","value":"ショートコードAPI","position":{"start":{"line":14,"column":2,"offset":281},"end":{"line":14,"column":12,"offset":291}}}],"position":{"start":{"line":14,"column":1,"offset":280},"end":{"line":14,"column":105,"offset":384}}}],"position":{"start":{"line":14,"column":1,"offset":280},"end":{"line":14,"column":105,"offset":384}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"変数や関数が使えるのでとっても便利です。","position":{"start":{"line":16,"column":1,"offset":386},"end":{"line":16,"column":21,"offset":406}}}],"position":{"start":{"line":16,"column":1,"offset":386},"end":{"line":16,"column":21,"offset":406}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"たとえば、サイトのURLのショートタグを作りたいときのコードの書き方はこんな感じ。functions.phpに追記するだけです。","position":{"start":{"line":18,"column":1,"offset":408},"end":{"line":18,"column":65,"offset":472}}}],"position":{"start":{"line":18,"column":1,"offset":408},"end":{"line":18,"column":65,"offset":472}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$home</span> <span class=\"token operator\">=</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$home</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'URL'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'home_url'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":20,"column":1,"offset":474},"end":{"line":26,"column":4,"offset":594}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">add_shortcode</code>","position":{"start":{"line":28,"column":1,"offset":596},"end":{"line":28,"column":16,"offset":611}}},{"type":"text","value":"関数でショートコードとして呼び出すことができます。","position":{"start":{"line":28,"column":16,"offset":611},"end":{"line":28,"column":41,"offset":636}}}],"position":{"start":{"line":28,"column":1,"offset":596},"end":{"line":28,"column":41,"offset":636}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span>ショートコード名<span class=\"token punctuation\">,</span> 関数<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":30,"column":1,"offset":638},"end":{"line":32,"column":4,"offset":677}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"投稿記事内にショートコードを利用できるようになります。","position":{"start":{"line":34,"column":1,"offset":679},"end":{"line":34,"column":28,"offset":706}}}],"position":{"start":{"line":34,"column":1,"offset":679},"end":{"line":34,"column":28,"offset":706}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[URL]<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>トップページ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":36,"column":1,"offset":708},"end":{"line":38,"column":4,"offset":746}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"ヘビーに使うバナーをショートコードとして登録し呼び出す"},"children":[{"type":"text","value":"ヘビーに使うバナーをショートコードとして登録し呼び出す","position":{"start":{"line":40,"column":5,"offset":752},"end":{"line":40,"column":32,"offset":779}}}],"position":{"start":{"line":40,"column":1,"offset":748},"end":{"line":40,"column":32,"offset":779}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"バナーやコンバージョンエリアを呼び出すのに便利です。","position":{"start":{"line":41,"column":1,"offset":780},"end":{"line":41,"column":27,"offset":806}}}],"position":{"start":{"line":41,"column":1,"offset":780},"end":{"line":41,"column":27,"offset":806}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">banner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;a href=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'/campaign/\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;img src=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">get_bloginfo</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'template_url'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'\" alt=\"キャンペーンバナー\" width=\"700\" heigth=\"250\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;/img>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$banner</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'banner'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'banner'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":43,"column":1,"offset":808},"end":{"line":53,"column":4,"offset":1141}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"記事内でバナー表示したいところに追加します。","position":{"start":{"line":54,"column":1,"offset":1142},"end":{"line":54,"column":23,"offset":1164}}}],"position":{"start":{"line":54,"column":1,"offset":1142},"end":{"line":54,"column":23,"offset":1164}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">キャンペーンやってるよ！！\n[banner]</code></pre></div>","position":{"start":{"line":55,"column":1,"offset":1165},"end":{"line":58,"column":4,"offset":1199}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"ショートコードに引数を使って値を追加する"},"children":[{"type":"text","value":"ショートコードに引数を使って値を追加する","position":{"start":{"line":60,"column":4,"offset":1204},"end":{"line":60,"column":24,"offset":1224}}}],"position":{"start":{"line":60,"column":1,"offset":1201},"end":{"line":60,"column":24,"offset":1224}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"次はショートコードに値（引数）を追加する方法です。","position":{"start":{"line":61,"column":1,"offset":1225},"end":{"line":61,"column":26,"offset":1250}}}],"position":{"start":{"line":61,"column":1,"offset":1225},"end":{"line":61,"column":26,"offset":1250}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"現在は","position":{"start":{"line":63,"column":1,"offset":1252},"end":{"line":63,"column":4,"offset":1255}}},{"type":"raw","value":"<code class=\"language-text\">extract</code>","position":{"start":{"line":63,"column":4,"offset":1255},"end":{"line":63,"column":13,"offset":1264}}},{"type":"text","value":"を使う方法は推奨されてません。","position":{"start":{"line":63,"column":13,"offset":1264},"end":{"line":63,"column":28,"offset":1279}}}],"position":{"start":{"line":63,"column":1,"offset":1252},"end":{"line":63,"column":28,"offset":1279}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"先ほどのバナーのショートコードを改造してみます。","position":{"start":{"line":65,"column":1,"offset":1281},"end":{"line":65,"column":25,"offset":1305}}}],"position":{"start":{"line":65,"column":1,"offset":1281},"end":{"line":65,"column":25,"offset":1305}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">banner</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$atts</span> <span class=\"token operator\">=</span> <span class=\"token function\">shortcode_atts</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n      <span class=\"token comment\">//取得したい値のキー</span>\n      <span class=\"token string single-quoted-string\">'page'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string single-quoted-string\">'src'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'banner'</span><span class=\"token comment\">//ショートコード名</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//同じサイト内のスラッグなど</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;a href=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'/'</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;img src=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'src'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'\" alt=\"キャンペーンバナー\" width=\"700\" heigth=\"250\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;/a>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$banner</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'banner'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'banner'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":67,"column":1,"offset":1307},"end":{"line":88,"column":4,"offset":1800}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"これで画像とリンク先を差し替えることができるようになります。","position":{"start":{"line":89,"column":1,"offset":1801},"end":{"line":89,"column":31,"offset":1831}}}],"position":{"start":{"line":89,"column":1,"offset":1801},"end":{"line":89,"column":31,"offset":1831}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">[banner page=\"campaign2\" src=\"https://hogehoge.com/images/banner.png\"]</code></pre></div>","position":{"start":{"line":90,"column":1,"offset":1832},"end":{"line":92,"column":4,"offset":1914}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"ショートコード内に文を入れる"},"children":[{"type":"text","value":"ショートコード内に文を入れる","position":{"start":{"line":94,"column":4,"offset":1919},"end":{"line":94,"column":18,"offset":1933}}}],"position":{"start":{"line":94,"column":1,"offset":1916},"end":{"line":94,"column":18,"offset":1933}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ショートとタグの中に文も追加できます。","position":{"start":{"line":95,"column":1,"offset":1934},"end":{"line":95,"column":20,"offset":1953}}}],"position":{"start":{"line":95,"column":1,"offset":1934},"end":{"line":95,"column":20,"offset":1953}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"カンタンなものでこんな装飾もできますし、吹き出し装飾なんかも作れます。","position":{"start":{"line":97,"column":1,"offset":1955},"end":{"line":97,"column":36,"offset":1990}}}],"position":{"start":{"line":97,"column":1,"offset":1955},"end":{"line":97,"column":36,"offset":1990}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/4b190/entry211-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.88607594936709%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG6AD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAWEAADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAT8hKv/aAAwDAQACAAMAAAAQeC//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAAAARExYXHB/9oACAEBAAE/EFc9NENzg//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/81b7c/entry211-1.webp 158w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/6ea66/entry211-1.webp 315w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/8aab1/entry211-1.webp 630w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/d00b9/entry211-1.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/ff44c/entry211-1.jpg 158w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/a6688/entry211-1.jpg 315w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/828fb/entry211-1.jpg 630w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/4b190/entry211-1.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/828fb/entry211-1.jpg\"\n            alt=\"実装例\"\n            title=\"実装例\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>","position":{"start":{"line":99,"column":1,"offset":1992},"end":{"line":99,"column":37,"offset":2028}}}],"position":{"start":{"line":99,"column":1,"offset":1992},"end":{"line":99,"column":37,"offset":2028}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">box</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$atts</span> <span class=\"token operator\">=</span> <span class=\"token function\">shortcode_atts</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n      <span class=\"token comment\">//取得したい値のキー</span>\n      <span class=\"token comment\">//デフォルト値を入れておいてあげても○</span>\n      <span class=\"token string single-quoted-string\">'label'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'box'</span><span class=\"token comment\">//ショートコード名</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'&lt;div class=\"box\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;h2>'</span><span class=\"token operator\">.</span> <span class=\"token function\">esc_html</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">[</span> <span class=\"token string single-quoted-string\">'label'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'&lt;/h2>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//同じサイト内のスラッグなど</span>\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">.=</span> <span class=\"token variable\">$content</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$box</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'box'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'box'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":101,"column":1,"offset":2030},"end":{"line":121,"column":4,"offset":2411}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">[box label=\"ポイント\"]ここに文章が入ります[/box]</code></pre></div>","position":{"start":{"line":123,"column":1,"offset":2413},"end":{"line":125,"column":4,"offset":2459}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"コンテンツだけ追加したいとき"},"children":[{"type":"text","value":"コンテンツだけ追加したいとき","position":{"start":{"line":127,"column":5,"offset":2465},"end":{"line":127,"column":19,"offset":2479}}}],"position":{"start":{"line":127,"column":1,"offset":2461},"end":{"line":127,"column":19,"offset":2479}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"コンテンツだけ追加したいときは、第一引数を","position":{"start":{"line":128,"column":1,"offset":2480},"end":{"line":128,"column":22,"offset":2501}}},{"type":"raw","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":128,"column":22,"offset":2501},"end":{"line":128,"column":28,"offset":2507}}},{"type":"text","value":"か","position":{"start":{"line":128,"column":28,"offset":2507},"end":{"line":128,"column":29,"offset":2508}}},{"type":"raw","value":"<code class=\"language-text\">''</code>","position":{"start":{"line":128,"column":29,"offset":2508},"end":{"line":128,"column":33,"offset":2512}}},{"type":"text","value":"あたりにしておきます。","position":{"start":{"line":128,"column":33,"offset":2512},"end":{"line":128,"column":44,"offset":2523}}}],"position":{"start":{"line":128,"column":1,"offset":2480},"end":{"line":128,"column":44,"offset":2523}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">box</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$content</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'&lt;/div>'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":130,"column":1,"offset":2525},"end":{"line":134,"column":4,"offset":2618}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"ショートコードの入れ子"},"children":[{"type":"text","value":"ショートコードの入れ子","position":{"start":{"line":136,"column":4,"offset":2623},"end":{"line":136,"column":15,"offset":2634}}}],"position":{"start":{"line":136,"column":1,"offset":2620},"end":{"line":136,"column":15,"offset":2634}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ショートコードは装飾にめっちゃ便利ですが、入れ子にしたいこともあります。","position":{"start":{"line":137,"column":1,"offset":2635},"end":{"line":137,"column":37,"offset":2671}}}],"position":{"start":{"line":137,"column":1,"offset":2635},"end":{"line":137,"column":37,"offset":2671}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"そんなときは","position":{"start":{"line":139,"column":1,"offset":2673},"end":{"line":139,"column":7,"offset":2679}}},{"type":"raw","value":"<code class=\"language-text\">shortcode_unautop</code>","position":{"start":{"line":139,"column":7,"offset":2679},"end":{"line":139,"column":26,"offset":2698}}},{"type":"text","value":"と","position":{"start":{"line":139,"column":26,"offset":2698},"end":{"line":139,"column":27,"offset":2699}}},{"type":"raw","value":"<code class=\"language-text\">do_shortcode</code>","position":{"start":{"line":139,"column":27,"offset":2699},"end":{"line":139,"column":41,"offset":2713}}},{"type":"text","value":"を使います。","position":{"start":{"line":139,"column":41,"offset":2713},"end":{"line":139,"column":47,"offset":2719}}}],"position":{"start":{"line":139,"column":1,"offset":2673},"end":{"line":139,"column":47,"offset":2719}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">box</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$content</span> <span class=\"token operator\">=</span> <span class=\"token function\">do_shortcode</span><span class=\"token punctuation\">(</span> <span class=\"token function\">shortcode_unautop</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//省略</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$box</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":140,"column":1,"offset":2720},"end":{"line":146,"column":4,"offset":2847}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"先ほど作ったショートコードを例にとると、装飾の中にショートコードを含めることができるようになります。","position":{"start":{"line":148,"column":1,"offset":2849},"end":{"line":148,"column":51,"offset":2899}}}],"position":{"start":{"line":148,"column":1,"offset":2849},"end":{"line":148,"column":51,"offset":2899}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">[box label=\"ポイント\"]\nただいまキャンペーン中です。\n[banner]\n[/box]</code></pre></div>","position":{"start":{"line":150,"column":1,"offset":2901},"end":{"line":155,"column":4,"offset":2962}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"そのほか、ショートコードで便利なtips"},"children":[{"type":"text","value":"そのほか、ショートコードで便利なTips","position":{"start":{"line":157,"column":4,"offset":2967},"end":{"line":157,"column":24,"offset":2987}}}],"position":{"start":{"line":157,"column":1,"offset":2964},"end":{"line":157,"column":24,"offset":2987}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"そのほかショートコードで便利な方法がいくつかあるので、まとめておきます。","position":{"start":{"line":158,"column":1,"offset":2988},"end":{"line":158,"column":37,"offset":3024}}}],"position":{"start":{"line":158,"column":1,"offset":2988},"end":{"line":158,"column":37,"offset":3024}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"テンプレート内（phpファイル内）で呼び出す"},"children":[{"type":"text","value":"テンプレート内（phpファイル内）で呼び出す","position":{"start":{"line":160,"column":5,"offset":3030},"end":{"line":160,"column":27,"offset":3052}}}],"position":{"start":{"line":160,"column":1,"offset":3026},"end":{"line":160,"column":27,"offset":3052}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"テンプレート内では","position":{"start":{"line":161,"column":1,"offset":3053},"end":{"line":161,"column":10,"offset":3062}}},{"type":"raw","value":"<code class=\"language-text\">do_shortcode</code>","position":{"start":{"line":161,"column":10,"offset":3062},"end":{"line":161,"column":24,"offset":3076}}},{"type":"text","value":"関数を使って呼び出します。","position":{"start":{"line":161,"column":24,"offset":3076},"end":{"line":161,"column":37,"offset":3089}}}],"position":{"start":{"line":161,"column":1,"offset":3053},"end":{"line":161,"column":37,"offset":3089}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">echo</span> <span class=\"token function\">do_shortcode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'[box]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":163,"column":1,"offset":3091},"end":{"line":165,"column":4,"offset":3129}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"ショートコードを取り除く"},"children":[{"type":"text","value":"ショートコードを取り除く","position":{"start":{"line":166,"column":5,"offset":3134},"end":{"line":166,"column":17,"offset":3146}}}],"position":{"start":{"line":166,"column":1,"offset":3130},"end":{"line":166,"column":17,"offset":3146}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"逆にサイトの説明などにショートコードが抜き出しで出てしまうことがあります。そんなときは","position":{"start":{"line":167,"column":1,"offset":3147},"end":{"line":167,"column":44,"offset":3190}}},{"type":"raw","value":"<code class=\"language-text\">strip_shortcodes</code>","position":{"start":{"line":167,"column":44,"offset":3190},"end":{"line":167,"column":62,"offset":3208}}},{"type":"text","value":"でショートコードが取り除けます。","position":{"start":{"line":167,"column":62,"offset":3208},"end":{"line":167,"column":78,"offset":3224}}}],"position":{"start":{"line":167,"column":1,"offset":3147},"end":{"line":167,"column":78,"offset":3224}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token function\">strip_shortcodes</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":169,"column":1,"offset":3226},"end":{"line":171,"column":4,"offset":3266}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"まとめ"},"children":[{"type":"text","value":"まとめ","position":{"start":{"line":174,"column":4,"offset":3272},"end":{"line":174,"column":7,"offset":3275}}}],"position":{"start":{"line":174,"column":1,"offset":3269},"end":{"line":174,"column":7,"offset":3275}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ショートコードはうまく使うと超便利！装飾の幅も広がり記事やページがめっちゃ華やかになります。","position":{"start":{"line":175,"column":1,"offset":3276},"end":{"line":175,"column":47,"offset":3322}}}],"position":{"start":{"line":175,"column":1,"offset":3276},"end":{"line":175,"column":47,"offset":3322}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ただ、テーマの乗り換えをするときに使えないショートコードなども出てきた後々大変にはなることもありますので、メンテナンス性を考えて、うまく利用しましょう！","position":{"start":{"line":177,"column":1,"offset":3324},"end":{"line":177,"column":77,"offset":3400}}}],"position":{"start":{"line":177,"column":1,"offset":3324},"end":{"line":177,"column":77,"offset":3400}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"皆さんのコーディングライフの一助となれば幸いです。","position":{"start":{"line":179,"column":1,"offset":3402},"end":{"line":179,"column":26,"offset":3427}}}],"position":{"start":{"line":179,"column":1,"offset":3402},"end":{"line":179,"column":26,"offset":3427}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"今回も最後までお読みいただきありがとうございました。","position":{"start":{"line":181,"column":1,"offset":3429},"end":{"line":181,"column":27,"offset":3455}}}],"position":{"start":{"line":181,"column":1,"offset":3429},"end":{"line":181,"column":27,"offset":3455}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":182,"column":1,"offset":3456}}}}