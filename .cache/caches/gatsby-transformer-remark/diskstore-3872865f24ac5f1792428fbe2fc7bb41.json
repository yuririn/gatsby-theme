{"expireTime":9007200880755263000,"key":"transformer-remark-markdown-html-4bdaba288a063fad8e676fde51005413-gatsby-remark-imagesgatsby-remark-autolink-headersgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<h2 id=\"まずは下準備から。インスタとフェイスブックを連携してアクセストークンを取得\">まずは下準備から。インスタとフェイスブックを連携してアクセストークンを取得</h2>\n<p>下準備がマジで<em>しちめんどくさい</em>です。しかもインスタってFacebookに買収されて、仕様変更がコロコロ変わり、、、私もWeb制作人生で実装するたびに振り回されて、涙を流してきました。</p>\n<p>と、いうことでSNS連携から実装方法までを詳し〜〜く説明します。</p>\n<p>まずは下準備。Facebookページを作って、インスタをプロアカウントに変え、Facebookと連携させます。</p>\n<h3 id=\"facebookページを用意\">Facebookページを用意</h3>\n<p>Facebookページを作成します。ログインして、ページを作成しておきます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5c25f1525449cb9bba2a01ee638b9879/066f9/entry448-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 123.41772151898734%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGQAAAwEBAQAAAAAAAAAAAAAAAAEDAgQF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB8spIyIOqDyIQf//EABwQAAAGAwAAAAAAAAAAAAAAAAABAhARMgMzQf/aAAgBAQABBQLkmJC7Nm2Mq7f/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAXEAEBAQEAAAAAAAAAAAAAAAAQAQJx/9oACAEBAAY/Amuutf/EAB8QAAIBAwUBAAAAAAAAAAAAAAABMREhYRBBUaHw4f/aAAgBAQABPyG6yyWPg2LVOU3segcnKbVVGegbO7oz/9oADAMBAAIAAwAAABCI6wP/xAAXEQADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/ELrP/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAIRABAAICAQMFAAAAAAAAAAAAAQARIVExEHGhQWGBkfH/2gAIAQEAAT8QAdYu2A/YFQCuzdxjmvqYGqyE73y/MQvfvBfR4gtRLOCOeSHZihwTz/TnP//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5c25f1525449cb9bba2a01ee638b9879/81b7c/entry448-1.webp 158w,\n/static/5c25f1525449cb9bba2a01ee638b9879/6ea66/entry448-1.webp 315w,\n/static/5c25f1525449cb9bba2a01ee638b9879/7f61c/entry448-1.webp 400w\"\n              sizes=\"(max-width: 400px) 100vw, 400px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5c25f1525449cb9bba2a01ee638b9879/ff44c/entry448-1.jpg 158w,\n/static/5c25f1525449cb9bba2a01ee638b9879/a6688/entry448-1.jpg 315w,\n/static/5c25f1525449cb9bba2a01ee638b9879/066f9/entry448-1.jpg 400w\"\n            sizes=\"(max-width: 400px) 100vw, 400px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5c25f1525449cb9bba2a01ee638b9879/066f9/entry448-1.jpg\"\n            alt=\"Facebookページを作成\"\n            title=\"Facebookページを作成\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>すでにページを持っているようであれば、アカウントが管理者かアナリストである必要があります。</p>\n<h3 id=\"インスタはクリエーターないしはプロアカウントへ変更\">インスタはクリエーターないしはプロアカウントへ変更</h3>\n<p>インスタのアカウントを変更します。私はスマホから取得しました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7d4463aa7b592ad6632e8003b70cba9a/066f9/entry448-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96.20253164556962%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHgRcQDTUAP/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERECD/2gAIAQEAAQUCykZGR8f/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAUEAEAAAAAAAAAAAAAAAAAAAAw/9oACAEBAAY/Ah//xAAaEAACAgMAAAAAAAAAAAAAAAABEABhETFB/9oACAEBAAE/IeI5blaqoS//2gAMAwEAAgADAAAAEPPXPP/EABYRAAMAAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxAr/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARIRAxUWGR/9oACAEBAAE/EHQU4ZKYFKNh6Jh3j437G/sxlpb5/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7d4463aa7b592ad6632e8003b70cba9a/81b7c/entry448-2.webp 158w,\n/static/7d4463aa7b592ad6632e8003b70cba9a/6ea66/entry448-2.webp 315w,\n/static/7d4463aa7b592ad6632e8003b70cba9a/7f61c/entry448-2.webp 400w\"\n              sizes=\"(max-width: 400px) 100vw, 400px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7d4463aa7b592ad6632e8003b70cba9a/ff44c/entry448-2.jpg 158w,\n/static/7d4463aa7b592ad6632e8003b70cba9a/a6688/entry448-2.jpg 315w,\n/static/7d4463aa7b592ad6632e8003b70cba9a/066f9/entry448-2.jpg 400w\"\n            sizes=\"(max-width: 400px) 100vw, 400px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7d4463aa7b592ad6632e8003b70cba9a/066f9/entry448-2.jpg\"\n            alt=\"インスタはクリエーターないしはプロアカウントへ変更\"\n            title=\"インスタはクリエーターないしはプロアカウントへ変更\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>設定からプロアカウントに切り替えます。</p>\n<p>クリエイターかビジネスを選べます。ケースバイケースで選びましょう！</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d85e80326757562196823e5245dc57cc/4b190/entry448-3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHAbrZEqH//xAAZEAACAwEAAAAAAAAAAAAAAAAAARAREyH/2gAIAQEAAQUCORVvJmZ//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BV//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AYj/xAAWEAEBAQAAAAAAAAAAAAAAAAAAMSD/2gAIAQEABj8CxVf/xAAaEAACAgMAAAAAAAAAAAAAAAAAAUFhEVGB/9oACAEBAAE/IZKHRYC2UBuoH//aAAwDAQACAAMAAAAQxw//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEx/9oACAEDAQE/EFDti//EABcRAQEBAQAAAAAAAAAAAAAAAAEAETH/2gAIAQIBAT8QE8t3/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFRYXGR/9oACAEBAAE/EHHGUkGhWbdsoNV8lWNKrMQQ2dRqn4T/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d85e80326757562196823e5245dc57cc/81b7c/entry448-3.webp 158w,\n/static/d85e80326757562196823e5245dc57cc/6ea66/entry448-3.webp 315w,\n/static/d85e80326757562196823e5245dc57cc/8aab1/entry448-3.webp 630w,\n/static/d85e80326757562196823e5245dc57cc/d00b9/entry448-3.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d85e80326757562196823e5245dc57cc/ff44c/entry448-3.jpg 158w,\n/static/d85e80326757562196823e5245dc57cc/a6688/entry448-3.jpg 315w,\n/static/d85e80326757562196823e5245dc57cc/828fb/entry448-3.jpg 630w,\n/static/d85e80326757562196823e5245dc57cc/4b190/entry448-3.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d85e80326757562196823e5245dc57cc/828fb/entry448-3.jpg\"\n            alt=\"インスタはクリエーターないしはプロアカウントへ変更2\"\n            title=\"インスタはクリエーターないしはプロアカウントへ変更2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"facebookと連携させる\">Facebookと連携させる</h3>\n<p>インスタ側からfacebookと連携させます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/95ce90a33b1d3f15ad997065b90a4eef/4b190/entry448-4.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeDSYMj/xAAXEAADAQAAAAAAAAAAAAAAAAAQERJB/9oACAEBAAEFAtktj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAEFAQAAAAAAAAAAAAAAAAEAEBEhQVH/2gAIAQEAAT8h4VZk42yiQW3/2gAMAwEAAgADAAAAEJDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAwEAAwAAAAAAAAAAAAAAAREhADFxkf/aAAgBAQABPxBhAQc4yC4Q5kowKYo6O9hdeBMN/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/95ce90a33b1d3f15ad997065b90a4eef/81b7c/entry448-4.webp 158w,\n/static/95ce90a33b1d3f15ad997065b90a4eef/6ea66/entry448-4.webp 315w,\n/static/95ce90a33b1d3f15ad997065b90a4eef/8aab1/entry448-4.webp 630w,\n/static/95ce90a33b1d3f15ad997065b90a4eef/d00b9/entry448-4.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/95ce90a33b1d3f15ad997065b90a4eef/ff44c/entry448-4.jpg 158w,\n/static/95ce90a33b1d3f15ad997065b90a4eef/a6688/entry448-4.jpg 315w,\n/static/95ce90a33b1d3f15ad997065b90a4eef/828fb/entry448-4.jpg 630w,\n/static/95ce90a33b1d3f15ad997065b90a4eef/4b190/entry448-4.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/95ce90a33b1d3f15ad997065b90a4eef/828fb/entry448-4.jpg\"\n            alt=\"Facebookと連携させる\"\n            title=\"Facebookと連携させる\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>連携できたら、Facebookページ側から確認します。必ず<strong>リンクが連携できているか確認</strong>しましょう。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a4166fb9854686c5463b45d511d82831/4b190/entry448-5.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeRG0Awf/8QAFRABAQAAAAAAAAAAAAAAAAAAAhD/2gAIAQEAAQUCVV//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAYEAEBAQEBAAAAAAAAAAAAAAABADEQEf/aAAgBAQABPyHDeSFl7//aAAwDAQACAAMAAAAQA9//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAAICAwAAAAAAAAAAAAAAAQAREKEhMWH/2gAIAQEAAT8Q1Ihe4Ggv3maWGf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a4166fb9854686c5463b45d511d82831/81b7c/entry448-5.webp 158w,\n/static/a4166fb9854686c5463b45d511d82831/6ea66/entry448-5.webp 315w,\n/static/a4166fb9854686c5463b45d511d82831/8aab1/entry448-5.webp 630w,\n/static/a4166fb9854686c5463b45d511d82831/d00b9/entry448-5.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a4166fb9854686c5463b45d511d82831/ff44c/entry448-5.jpg 158w,\n/static/a4166fb9854686c5463b45d511d82831/a6688/entry448-5.jpg 315w,\n/static/a4166fb9854686c5463b45d511d82831/828fb/entry448-5.jpg 630w,\n/static/a4166fb9854686c5463b45d511d82831/4b190/entry448-5.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a4166fb9854686c5463b45d511d82831/828fb/entry448-5.jpg\"\n            alt=\"Facebookと連携させる\"\n            title=\"Facebookと連携させる\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"ディベロッパー用のアカウント作成・アクセストークン等取得\">ディベロッパー用のアカウント作成・アクセストークン等取得</h2>\n<p>この先は、一覧を表示するために必要なアクセストークンなどを取得します。</p>\n<p>FACEBOOK for DeveloperはFacebookアカウントを持っていることが前提条件です。</p>\n<p><a href=\"https://developers.facebook.com\">FACEBOOK for Developer</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/072c5ec611983c1d2a063fcb2efb1c05/4b190/entry448-6.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAe1nrLK3EE//xAAaEAADAAMBAAAAAAAAAAAAAAABAgMABBMS/9oACAEBAAEFAiSMbYCiNuq9MYq6z8zH/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECEv/aAAgBAwEBPwFSZZ//xAAYEQADAQEAAAAAAAAAAAAAAAAAAhMRMf/aAAgBAgEBPwGq70qh/8QAGxAAAgMAAwAAAAAAAAAAAAAAABEBAiExMnH/2gAIAQEABj8CnDqTKWo4FNcFSqj0/8QAGhABAQEAAwEAAAAAAAAAAAAAAREAITFh8P/aAAgBAQABPyERAZmDSnsxG8S7b7uYXr2Yc+jc/9oADAMBAAIAAwAAABDT/wD/xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhYf/aAAgBAwEBPxBkWjI//8QAGhEBAAEFAAAAAAAAAAAAAAAAAQARIVFxsf/aAAgBAgEBPxBoEs0xz9n/xAAeEAEBAAICAgMAAAAAAAAAAAABEQAxIUFhgXGh8P/aAAgBAQABPxAoh6qZYQYiB137xmhmtWTn7x2Gvzxhz4aFN3YYnoBlNXbz8Z//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/072c5ec611983c1d2a063fcb2efb1c05/81b7c/entry448-6.webp 158w,\n/static/072c5ec611983c1d2a063fcb2efb1c05/6ea66/entry448-6.webp 315w,\n/static/072c5ec611983c1d2a063fcb2efb1c05/8aab1/entry448-6.webp 630w,\n/static/072c5ec611983c1d2a063fcb2efb1c05/d00b9/entry448-6.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/072c5ec611983c1d2a063fcb2efb1c05/ff44c/entry448-6.jpg 158w,\n/static/072c5ec611983c1d2a063fcb2efb1c05/a6688/entry448-6.jpg 315w,\n/static/072c5ec611983c1d2a063fcb2efb1c05/828fb/entry448-6.jpg 630w,\n/static/072c5ec611983c1d2a063fcb2efb1c05/4b190/entry448-6.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/072c5ec611983c1d2a063fcb2efb1c05/828fb/entry448-6.jpg\"\n            alt=\"FACEBOOK for Developer\"\n            title=\"FACEBOOK for Developer\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>こまごまと設定は必要ですが、重要なのは<em>アクセストークン</em>と<em>インスタのビジネスアカウントID</em>を取得することです。</p>\n<h3 id=\"アプリ作成\">アプリ作成</h3>\n<p>「マイアプリ」から新規で「アプリを作成」から新規のアプリを作ります。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fbcffee93ada3007f0be2b9251911323/4b190/entry448-7.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.911392405063296%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2KCQf//EABgQAAMBAQAAAAAAAAAAAAAAAAABAhID/9oACAEBAAEFAsQYlD5yf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAEFAQAAAAAAAAAAAAAAAAABAiEykeH/2gAIAQEABj8CqmENOH//xAAaEAEAAgMBAAAAAAAAAAAAAAABACERUYFh/9oACAEBAAE/Ifa4gum9BFOUHif/2gAMAwEAAgADAAAAEAAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QR//EABwQAQACAQUAAAAAAAAAAAAAAAEAETEhUWGBof/aAAgBAQABPxC9DraHkEUXJBGax3SuMT//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fbcffee93ada3007f0be2b9251911323/81b7c/entry448-7.webp 158w,\n/static/fbcffee93ada3007f0be2b9251911323/6ea66/entry448-7.webp 315w,\n/static/fbcffee93ada3007f0be2b9251911323/8aab1/entry448-7.webp 630w,\n/static/fbcffee93ada3007f0be2b9251911323/d00b9/entry448-7.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fbcffee93ada3007f0be2b9251911323/ff44c/entry448-7.jpg 158w,\n/static/fbcffee93ada3007f0be2b9251911323/a6688/entry448-7.jpg 315w,\n/static/fbcffee93ada3007f0be2b9251911323/828fb/entry448-7.jpg 630w,\n/static/fbcffee93ada3007f0be2b9251911323/4b190/entry448-7.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fbcffee93ada3007f0be2b9251911323/828fb/entry448-7.jpg\"\n            alt=\"FACEBOOK for Developerから新規アプリ作成\"\n            title=\"FACEBOOK for Developerから新規アプリ作成\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>アプリ表示名を入力、アプリの目的を選択し、アプリを作成します。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7bc6349cc91dd5711abe49291de34a6c/4b190/entry448-8.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEEAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAewp9hk5df/EABsQAAEEAwAAAAAAAAAAAAAAAAIAARIyAyEx/9oACAEBAAEFAhHUWkQpq4uHf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AUf/xAAYEAEBAAMAAAAAAAAAAAAAAAAAARAhMf/aAAgBAQAGPwKLpzFV/8QAHBAAAwABBQAAAAAAAAAAAAAAAAExURARcZGh/9oACAEBAAE/IUQUwKAuBG89EuD0aT//2gAMAwEAAgADAAAAEGjP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/ENSP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxAf/8QAHRAAAQQCAwAAAAAAAAAAAAAAAQARIVExoRBBsf/aAAgBAQABPxA43VyNJ4vQGNBCiwYotF5wu4v/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7bc6349cc91dd5711abe49291de34a6c/81b7c/entry448-8.webp 158w,\n/static/7bc6349cc91dd5711abe49291de34a6c/6ea66/entry448-8.webp 315w,\n/static/7bc6349cc91dd5711abe49291de34a6c/8aab1/entry448-8.webp 630w,\n/static/7bc6349cc91dd5711abe49291de34a6c/d00b9/entry448-8.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7bc6349cc91dd5711abe49291de34a6c/ff44c/entry448-8.jpg 158w,\n/static/7bc6349cc91dd5711abe49291de34a6c/a6688/entry448-8.jpg 315w,\n/static/7bc6349cc91dd5711abe49291de34a6c/828fb/entry448-8.jpg 630w,\n/static/7bc6349cc91dd5711abe49291de34a6c/4b190/entry448-8.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7bc6349cc91dd5711abe49291de34a6c/828fb/entry448-8.jpg\"\n            alt=\"アプリ表示名を入力、アプリの目的を選択し、アプリを作成\"\n            title=\"アプリ表示名を入力、アプリの目的を選択し、アプリを作成\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ちなみにアプリ名に「insta」を含むとエラーになり作成できません。おそらく盲点なので注意です。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 629px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0fe4223f01f735f55b3da79f08aec4a0/70d63/entry448-9.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.72151898734177%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAAB1ZCri3//xAAWEAADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCUP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABkQAAMAAwAAAAAAAAAAAAAAAAABITFRgf/aAAgBAQABPyHdOijLP//aAAwDAQACAAMAAAAQjC//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAAAEQEhMZGx/9oACAEBAAE/ELUmcCvLZCnQ/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0fe4223f01f735f55b3da79f08aec4a0/81b7c/entry448-9.webp 158w,\n/static/0fe4223f01f735f55b3da79f08aec4a0/6ea66/entry448-9.webp 315w,\n/static/0fe4223f01f735f55b3da79f08aec4a0/abae2/entry448-9.webp 629w\"\n              sizes=\"(max-width: 629px) 100vw, 629px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0fe4223f01f735f55b3da79f08aec4a0/ff44c/entry448-9.jpg 158w,\n/static/0fe4223f01f735f55b3da79f08aec4a0/a6688/entry448-9.jpg 315w,\n/static/0fe4223f01f735f55b3da79f08aec4a0/70d63/entry448-9.jpg 629w\"\n            sizes=\"(max-width: 629px) 100vw, 629px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0fe4223f01f735f55b3da79f08aec4a0/70d63/entry448-9.jpg\"\n            alt=\"ちなみにアプリ名に「insta」を含むとエラー\"\n            title=\"ちなみにアプリ名に「insta」を含むとエラー\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"あらかじめ「アプリid」、「app-secret」をメモっておく！\">あらかじめ「アプリID」、「app secret」をメモっておく！</h4>\n<p>この時点で、アプリの設定から、「アプリID」、「app secret」を必ずメモっておきましょう。マイアプリから対象のアプリを選択、設定のベーシックから<em>アプリID</em>と<em>app secret</em>を確認できます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e4b69980b9a1e80c93c3521bd295d51c/4b190/entry448-13.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.37974683544304%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd2QqD//xAAWEAADAAAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCjP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAAMBAAAAAAAAAAAAAAAAAAAQMUH/2gAIAQEAAT8h1Uf/2gAMAwEAAgADAAAAEHAv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAITFhcf/aAAgBAQABPxBIBqKxldlFE//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e4b69980b9a1e80c93c3521bd295d51c/81b7c/entry448-13.webp 158w,\n/static/e4b69980b9a1e80c93c3521bd295d51c/6ea66/entry448-13.webp 315w,\n/static/e4b69980b9a1e80c93c3521bd295d51c/8aab1/entry448-13.webp 630w,\n/static/e4b69980b9a1e80c93c3521bd295d51c/d00b9/entry448-13.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e4b69980b9a1e80c93c3521bd295d51c/ff44c/entry448-13.jpg 158w,\n/static/e4b69980b9a1e80c93c3521bd295d51c/a6688/entry448-13.jpg 315w,\n/static/e4b69980b9a1e80c93c3521bd295d51c/828fb/entry448-13.jpg 630w,\n/static/e4b69980b9a1e80c93c3521bd295d51c/4b190/entry448-13.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e4b69980b9a1e80c93c3521bd295d51c/828fb/entry448-13.jpg\"\n            alt=\"あらかじめ「アプリID」、「app secret」をメモっておく！\"\n            title=\"あらかじめ「アプリID」、「app secret」をメモっておく！\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"graph-apiアクセストークン取得\">Graph APIアクセストークン取得</h3>\n<p>アクセストークンを作成します。グローバルメニューのツールから「グラフAPIエクスプローラ」を選択します。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dcd56fb3f4d62416b0e803d53fdb30b5/b4294/entry448-10.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.0379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAenu4kqP/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECAzERE//aAAgBAQABBQLxrYqoROIYsWf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAACAQUAAAAAAAAAAAAAAAAAAQIRIDEzkf/aAAgBAQAGPwLXHhVRRiz/xAAaEAACAgMAAAAAAAAAAAAAAAAAATFhECFR/9oACAEBAAE/IeIGkd0ioQZBi//aAAwDAQACAAMAAAAQoy//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxAAAgIDAQAAAAAAAAAAAAAAAAExcUFhobH/2gAIAQEAAT8QSCSyBfhSI0BzHKiO36z/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/dcd56fb3f4d62416b0e803d53fdb30b5/81b7c/entry448-10.webp 158w,\n/static/dcd56fb3f4d62416b0e803d53fdb30b5/6ea66/entry448-10.webp 315w,\n/static/dcd56fb3f4d62416b0e803d53fdb30b5/e88ff/entry448-10.webp 600w\"\n              sizes=\"(max-width: 600px) 100vw, 600px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/dcd56fb3f4d62416b0e803d53fdb30b5/ff44c/entry448-10.jpg 158w,\n/static/dcd56fb3f4d62416b0e803d53fdb30b5/a6688/entry448-10.jpg 315w,\n/static/dcd56fb3f4d62416b0e803d53fdb30b5/b4294/entry448-10.jpg 600w\"\n            sizes=\"(max-width: 600px) 100vw, 600px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/dcd56fb3f4d62416b0e803d53fdb30b5/b4294/entry448-10.jpg\"\n            alt=\"ツールから「グラフAPIエクスプローラ」を選択\"\n            title=\"ツールから「グラフAPIエクスプローラ」を選択\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>「グラフAPIエクスプローラ」に移動したら、先ほど作成したFacebookアプリを選択します。</p>\n<p>「Generate Access Token」ボタンを押すと、ログインしろって言われるかもしれませんので（パスワードとか忘れないでね）その際はログインします。これでアクセストークンを発行できます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/df162bd0ce9b175cd9e0b4b1fce40052/4b190/entry448-12.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB7k3Jg1NozbB//8QAGhAAAwADAQAAAAAAAAAAAAAAAAECEBESIf/aAAgBAQABBQKmpN9LVDPTmhZ//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgEFAQAAAAAAAAAAAAAAAAEhEBEgIjEy/9oACAEBAAY/ApdjVnaQz1h//8QAHRAAAgEEAwAAAAAAAAAAAAAAAAExEBEh4VFh8P/aAAgBAQABPyFPdCEzByeCQg+gxs02QFNP/9oADAMBAAIAAwAAABA7DwD/xAAYEQACAwAAAAAAAAAAAAAAAAAAARAxgf/aAAgBAwEBPxAwdx//xAAXEQADAQAAAAAAAAAAAAAAAAAAECFR/9oACAECAQE/ECa//8QAHBABAQABBQEAAAAAAAAAAAAAAREAECExQbGB/9oACAEBAAE/EDCgyuDCpPHf3Fu+ViClJTrDBuDylxip+I80XFp//9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/df162bd0ce9b175cd9e0b4b1fce40052/81b7c/entry448-12.webp 158w,\n/static/df162bd0ce9b175cd9e0b4b1fce40052/6ea66/entry448-12.webp 315w,\n/static/df162bd0ce9b175cd9e0b4b1fce40052/8aab1/entry448-12.webp 630w,\n/static/df162bd0ce9b175cd9e0b4b1fce40052/d00b9/entry448-12.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/df162bd0ce9b175cd9e0b4b1fce40052/ff44c/entry448-12.jpg 158w,\n/static/df162bd0ce9b175cd9e0b4b1fce40052/a6688/entry448-12.jpg 315w,\n/static/df162bd0ce9b175cd9e0b4b1fce40052/828fb/entry448-12.jpg 630w,\n/static/df162bd0ce9b175cd9e0b4b1fce40052/4b190/entry448-12.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/df162bd0ce9b175cd9e0b4b1fce40052/828fb/entry448-12.jpg\"\n            alt=\"「Generate Access Token」ボタンを押すと、承認を促されるので（パスワードとか忘れないでね）ログインして承認\"\n            title=\"「Generate Access Token」ボタンを押すと、承認を促されるので（パスワードとか忘れないでね）ログインして承認\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>「ユーザーアクセストークン」から、どんな許可を得たいかを選択します。</p>\n<table>\n<thead>\n<tr>\n<th>Events Groups Pages</th>\n<th>内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">pages_show_list</code></td>\n<td>アクセス許可を使用すると、利用者が管理しているページのリストにアクセス可能になる。</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">business_management</code></td>\n<td>ビジネスマネージャAPIを利用した読み取りや書き込み可能になる。</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th>そのほか</th>\n<th>内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">instagram_basic</code></td>\n<td>プリがInstagramアカウントのプロフィール情報やメディア可能になる。</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">instagram_manage_comments</code></td>\n<td>ページにリンクしたInstagramアカウントに代わって、アプリがコメントを作成する、削除する、非表示にすることができるようになります。また、ある事業主が写真にタグ付けされたり@メンションされたりした公開メディアや公開コメントをアプリが読み取り、返信可能になる。</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">instagram_manage_insights</code></td>\n<td>FacebookページにリンクされたInstagramアカウントのインサイトにアプリがアクセス可能。また、他のビジネスプロフィールのプロフィール情報やメディアをアプリが発見し読み取ることも。</td>\n</tr>\n</tbody>\n</table>\n<p>さらに詳しい許可の種類は<a href=\"https://developers.facebook.com/docs/permissions/reference\">こちら</a>から確認できます。</p>\n<h3 id=\"更新が面倒なので無期限トークン取得\">更新が面倒なので無期限トークン取得</h3>\n<p>残念なことに、このアクセストークンはデフォルトで一時間しか使えません。</p>\n<p>まあ、スーパー寿命が短いです。セキュリティ関連のせいだと思います。</p>\n<p>期限を選べるらしいですが、とても面倒なので無期限に切り替えます。</p>\n<p>寿命を伸ばすために必要なのは以下。</p>\n<ul>\n<li>アプリID  <code class=\"language-text\">{app_id}</code></li>\n<li>app secret  <code class=\"language-text\">{app_secret}</code></li>\n<li>アクセストークン  <code class=\"language-text\">{access_token}</code></li>\n</ul>\n<p>「グラフAPIエクスプローラ」のフォームに入力して送信します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">oauth/access_token?client_id={app_id}&amp;client_secret={app_secret}&amp;grant_type=fb_exchange_token&amp;fb_exchange_token={access_token}</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cd98c3d8e007e1b5bfab3befb8b59b52/4b190/entry448-14.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 5.063291139240507%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAABABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHekKxcf//EABYQAAMAAAAAAAAAAAAAAAAAAAIQMf/aAAgBAQABBQJFf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oACAECAQE/AUf/xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAVEAEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAQABPyEp/9oADAMBAAIAAwAAABBwH//EABYRAQEBAAAAAAAAAAAAAAAAAAABMf/aAAgBAwEBPxBdf//EABURAQEAAAAAAAAAAAAAAAAAAAAx/9oACAECAQE/EEP/xAAYEAACAwAAAAAAAAAAAAAAAAAAARAxsf/aAAgBAQABPxC7jA//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/cd98c3d8e007e1b5bfab3befb8b59b52/81b7c/entry448-14.webp 158w,\n/static/cd98c3d8e007e1b5bfab3befb8b59b52/6ea66/entry448-14.webp 315w,\n/static/cd98c3d8e007e1b5bfab3befb8b59b52/8aab1/entry448-14.webp 630w,\n/static/cd98c3d8e007e1b5bfab3befb8b59b52/d00b9/entry448-14.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/cd98c3d8e007e1b5bfab3befb8b59b52/ff44c/entry448-14.jpg 158w,\n/static/cd98c3d8e007e1b5bfab3befb8b59b52/a6688/entry448-14.jpg 315w,\n/static/cd98c3d8e007e1b5bfab3befb8b59b52/828fb/entry448-14.jpg 630w,\n/static/cd98c3d8e007e1b5bfab3befb8b59b52/4b190/entry448-14.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/cd98c3d8e007e1b5bfab3befb8b59b52/828fb/entry448-14.jpg\"\n            alt=\"「グラフAPIエクスプローラ」テキストボックス\"\n            title=\"「グラフAPIエクスプローラ」テキストボックス\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><small>※ アプリIDとapp secretの調べ方\bはこの記事内の<a href=\"/blogs/entry448/#%E3%82%A2%E3%83%97%E3%83%AA%E4%BD%9C%E6%88%90\">アプリ作成</a>にあります。</small></p>\n<p>すると、こんな感じで赤い四角で囲ったところに返ってきた値があります。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e3db0b2ca09635c39e082c8b876961b6/48236/entry448-15.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.455696202531648%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwAB/9oADAMBAAIQAxAAAAHdmWQDl//EABgQAAIDAAAAAAAAAAAAAAAAAAABAhIh/9oACAEBAAEFAmN5eR//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AWR//8QAFhAAAwAAAAAAAAAAAAAAAAAAABAx/9oACAEBAAY/AlT/xAAYEAEBAQEBAAAAAAAAAAAAAAABABEh8P/aAAgBAQABPyHnMmGjehf/2gAMAwEAAgADAAAAEAwf/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERMVH/2gAIAQMBAT8QdEtP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAExYf/aAAgBAgEBPxBVGR//xAAaEAEAAwADAAAAAAAAAAAAAAABABEhQVHR/9oACAEBAAE/EMtDY3gQs2J1XDp5P//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e3db0b2ca09635c39e082c8b876961b6/81b7c/entry448-15.webp 158w,\n/static/e3db0b2ca09635c39e082c8b876961b6/6ea66/entry448-15.webp 315w,\n/static/e3db0b2ca09635c39e082c8b876961b6/8aab1/entry448-15.webp 630w,\n/static/e3db0b2ca09635c39e082c8b876961b6/a70f5/entry448-15.webp 945w,\n/static/e3db0b2ca09635c39e082c8b876961b6/4ef06/entry448-15.webp 1260w,\n/static/e3db0b2ca09635c39e082c8b876961b6/25b5c/entry448-15.webp 1317w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e3db0b2ca09635c39e082c8b876961b6/ff44c/entry448-15.jpg 158w,\n/static/e3db0b2ca09635c39e082c8b876961b6/a6688/entry448-15.jpg 315w,\n/static/e3db0b2ca09635c39e082c8b876961b6/828fb/entry448-15.jpg 630w,\n/static/e3db0b2ca09635c39e082c8b876961b6/0ede0/entry448-15.jpg 945w,\n/static/e3db0b2ca09635c39e082c8b876961b6/3ac88/entry448-15.jpg 1260w,\n/static/e3db0b2ca09635c39e082c8b876961b6/48236/entry448-15.jpg 1317w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e3db0b2ca09635c39e082c8b876961b6/828fb/entry448-15.jpg\"\n            alt=\"無期限トークン取得\"\n            title=\"無期限トークン取得\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>さらに、この値を使って<code class=\"language-text\">access_token</code>の無制限のアクセストークンを取得します。</p>\n<p>今度はこの値をアクセストークンのテキストボックスに入れて「Generate Access Token」をクリックします。</p>\n<p>ログインを求められたらログインしてください。なんでこんなに面倒なのか不明。</p>\n<p>次はExpired_inが消えているはずです。返ってきた値をコピーします。</p>\n<p>ツールのアクセストークンデバッガーでアクセストークン情報を調べます。受け取らないになっていたらOKです！</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e758fc0a0bf7c9f0e3a90548db37ef8e/909c7/entry448-20.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB3GVyskT/xAAWEAADAAAAAAAAAAAAAAAAAAAAASD/2gAIAQEAAQUCln//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAACAwEAAAAAAAAAAAAAAAABMQAQEYH/2gAIAQEAAT8h5RA1TVTT/9oADAMBAAIAAwAAABCD/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAQQDAQAAAAAAAAAAAAABABEhMWEQUXGx/9oACAEBAAE/EDJlXUodEMkBW7uCs94+E//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e758fc0a0bf7c9f0e3a90548db37ef8e/81b7c/entry448-20.webp 158w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/6ea66/entry448-20.webp 315w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/8aab1/entry448-20.webp 630w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/a70f5/entry448-20.webp 945w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/e0a35/entry448-20.webp 1041w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e758fc0a0bf7c9f0e3a90548db37ef8e/ff44c/entry448-20.jpg 158w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/a6688/entry448-20.jpg 315w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/828fb/entry448-20.jpg 630w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/0ede0/entry448-20.jpg 945w,\n/static/e758fc0a0bf7c9f0e3a90548db37ef8e/909c7/entry448-20.jpg 1041w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e758fc0a0bf7c9f0e3a90548db37ef8e/828fb/entry448-20.jpg\"\n            alt=\"無期限トークン取得\"\n            title=\"無期限トークン取得\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"インスタアカウントidを取得\">インスタアカウントIDを取得</h3>\n<p>インスタのビジネスアカウントIDを調べます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">me?fields=accounts{instagram_business_account}</code></pre></div>\n<p>先ほど取得した<em>アクセストークン</em>と今取得した<em>ビジネスアカウントID</em>でやっとインスタの投稿一覧表示できます！</p>\n<p>たかだか2つの値を取得・調べるまでが超長いです。。。</p>\n<h2 id=\"インスタ投稿の一覧を表示してみよう\">インスタ投稿の一覧を表示してみよう</h2>\n<p>では、早速インスタ投稿の一覧を取得したいのでリクエストを投げてみましょう！</p>\n<table>\n<thead>\n<tr>\n<th>値</th>\n<th>概要</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">{instagram_business_account}</code></td>\n<td>インスタのビジネスアカウントID</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">{count}</code></td>\n<td>数</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">{user_access_token}</code></td>\n<td>アクセストークン</td>\n</tr>\n</tbody>\n</table>\n<p>以下コードの<code class=\"language-text\">{}</code>のところをご自身のものに書き換えてください。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">https://graph.facebook.com/v10.0/{instagram_business_account}?fields=name%2Cmedia.limit({count})%7Bcaption%2Cmedia_url%2Cthumbnail_url%2Cpermalink%7D&amp;access_token={user_access_token}</code></pre></div>\n<p><code class=\"language-text\">https://graph.facebook.com/v10.0/~</code>のv〇〇がGraphAPIのバージョンです。</p>\n<p><small>※ 2021年3月時点最新はv10.0でした。</small></p>\n<p>ブラウザーの検索窓に入力し、データ取得できるか確認してみます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4434a35d37bdae20e74333d3e29527b7/4b190/entry448-18.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.291139240506325%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHTliwuMh//xAAYEAADAQEAAAAAAAAAAAAAAAAAAxMQEf/aAAgBAQABBQKKyKiKjm//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAADAQEAAAAAAAAAAAAAAAACMpEAIP/aAAgBAQAGPwJAmQZkGcf/xAAbEAABBAMAAAAAAAAAAAAAAAAAAREhYRBRof/aAAgBAQABPyHbkKoklng1jWf/2gAMAwEAAgADAAAAEBAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHhABAAIBBAMAAAAAAAAAAAAAAQARoSFBUXGRscH/2gAIAQEAAT8QLU+pDSxyU+iWaq9CDN/gluWJ/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4434a35d37bdae20e74333d3e29527b7/81b7c/entry448-18.webp 158w,\n/static/4434a35d37bdae20e74333d3e29527b7/6ea66/entry448-18.webp 315w,\n/static/4434a35d37bdae20e74333d3e29527b7/8aab1/entry448-18.webp 630w,\n/static/4434a35d37bdae20e74333d3e29527b7/d00b9/entry448-18.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4434a35d37bdae20e74333d3e29527b7/ff44c/entry448-18.jpg 158w,\n/static/4434a35d37bdae20e74333d3e29527b7/a6688/entry448-18.jpg 315w,\n/static/4434a35d37bdae20e74333d3e29527b7/828fb/entry448-18.jpg 630w,\n/static/4434a35d37bdae20e74333d3e29527b7/4b190/entry448-18.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4434a35d37bdae20e74333d3e29527b7/828fb/entry448-18.jpg\"\n            alt=\"ブラウザーの検索窓に入力し、データ取得できるか確認\"\n            title=\"ブラウザーの検索窓に入力し、データ取得できるか確認\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>わーい！データが配列として返ってきましたね！</p>\n<p>ちゃんとが取れているか念の為確かめておきましょう。<code class=\"language-text\">media_url</code>の値をブラウザー検索窓に入力してみましたが画像データがちゃんと取れました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9fe4a86c54076b6167664b4d2312b9fb/066f9/entry448-19.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.11392405063292%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAQT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHeGmkhjA//xAAaEAEAAwADAAAAAAAAAAAAAAACAQMEABEi/9oACAEBAAEFAs4KyqvzzHHdF4ZusiS//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BZ//EABoQAQADAAMAAAAAAAAAAAAAAAEAAjEQQVH/2gAIAQEABj8CPYndOCFqGkS2z//EABoQAQADAQEBAAAAAAAAAAAAAAEAESFhMbH/2gAIAQEAAT8hxAvfuyykGT0iUxBnfsDstDK7NbU//9oADAMBAAIAAwAAABADD//EABcRAQADAAAAAAAAAAAAAAAAAAEQESH/2gAIAQMBAT8QHaj/xAAXEQEAAwAAAAAAAAAAAAAAAAABEBEh/9oACAECAQE/EDlkf//EABwQAQACAwADAAAAAAAAAAAAAAERIQAxQZGhsf/aAAgBAQABPxCbFgsNJeZJCREA6CRtiMZR2YkkAr2y+6b0Rdtc+ZS0y4Xdec//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/9fe4a86c54076b6167664b4d2312b9fb/81b7c/entry448-19.webp 158w,\n/static/9fe4a86c54076b6167664b4d2312b9fb/6ea66/entry448-19.webp 315w,\n/static/9fe4a86c54076b6167664b4d2312b9fb/7f61c/entry448-19.webp 400w\"\n              sizes=\"(max-width: 400px) 100vw, 400px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/9fe4a86c54076b6167664b4d2312b9fb/ff44c/entry448-19.jpg 158w,\n/static/9fe4a86c54076b6167664b4d2312b9fb/a6688/entry448-19.jpg 315w,\n/static/9fe4a86c54076b6167664b4d2312b9fb/066f9/entry448-19.jpg 400w\"\n            sizes=\"(max-width: 400px) 100vw, 400px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/9fe4a86c54076b6167664b4d2312b9fb/066f9/entry448-19.jpg\"\n            alt=\"値返ってきたーーー\"\n            title=\"値返ってきたーーー\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ここまでできたらカンペキ。JSにもPHPでも表示可能です！！</p>\n<p>取得できる値の一覧です。動画の時は要注意。</p>\n<p>今回は分岐してサムネイル画像を代わりに表示することで対応しました。</p>\n<table>\n<thead>\n<tr>\n<th>取得できる項目</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>caption</em></td>\n<td>投稿内容</td>\n</tr>\n<tr>\n<td><em>id</em></td>\n<td>投稿ID</td>\n</tr>\n<tr>\n<td><em>like_count</em></td>\n<td>いいねの数</td>\n</tr>\n<tr>\n<td><em>media_type</em></td>\n<td>メディアのタイプ。IMAGEとVIDEOがある。</td>\n</tr>\n<tr>\n<td><em>media_url</em></td>\n<td>メディアのURL</td>\n</tr>\n<tr>\n<td><em>permalink</em></td>\n<td>インスタへのリンク</td>\n</tr>\n<tr>\n<td><em>thumbnail_url</em></td>\n<td>サムネイル</td>\n</tr>\n</tbody>\n</table>\n<p>好き放題カスタマイズ可能です。</p>\n<div class=\"box\">\n<h4>値が返ってきたかを必ず確認してから次の作業しよう！</h4>\n結構、こういったAPIの値が取得できてるかできていないかわからないまま作業している人がいます。ちょっと手間でも毎回、こういったポイントを通過することでミスやバグを潰せます。必ず確認しましょう。\n</div>\n<h4 id=\"共通css\">共通CSS</h4>\n<p>以下コードはあくまで参考です。</p>\n<p>アイコンはFontAwesomeを活用しました。自分の好みでスタイリングしてください。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0b93ae2edcf750a33b2757de6e045092/4b190/entry448-21.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIFAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAADAAL/2gAMAwEAAhADEAAAAdGabmoHUIf/xAAbEAACAgMBAAAAAAAAAAAAAAABAgADEhMxMv/aAAgBAQABBQImwHNpusjeOK7sD//EABYRAQEBAAAAAAAAAAAAAAAAAAARIf/aAAgBAwEBPwGsf//EABYRAQEBAAAAAAAAAAAAAAAAAAARIf/aAAgBAgEBPwGVr//EAB4QAAEDBAMAAAAAAAAAAAAAAAABITECIzNCYXGS/9oACAEBAAY/AluK8OZDX0LwU9kn/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFhcf/aAAgBAQABPyGgKVtBRdgOxF1HFTxyGUbcpSSP/9oADAMBAAIAAwAAABBf3//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAwEBPxAIyab/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAARQf/aAAgBAgEBPxCtKf/EAB0QAQEAAgIDAQAAAAAAAAAAAAERACFBcTFhgaH/2gAIAQEAAT8QpWgD+OuHLBuXVX08z9x4dFV+4AACEcwdxFVbYky1YQ1DP//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0b93ae2edcf750a33b2757de6e045092/81b7c/entry448-21.webp 158w,\n/static/0b93ae2edcf750a33b2757de6e045092/6ea66/entry448-21.webp 315w,\n/static/0b93ae2edcf750a33b2757de6e045092/8aab1/entry448-21.webp 630w,\n/static/0b93ae2edcf750a33b2757de6e045092/d00b9/entry448-21.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0b93ae2edcf750a33b2757de6e045092/ff44c/entry448-21.jpg 158w,\n/static/0b93ae2edcf750a33b2757de6e045092/a6688/entry448-21.jpg 315w,\n/static/0b93ae2edcf750a33b2757de6e045092/828fb/entry448-21.jpg 630w,\n/static/0b93ae2edcf750a33b2757de6e045092/4b190/entry448-21.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0b93ae2edcf750a33b2757de6e045092/828fb/entry448-21.jpg\"\n            alt=\"出力例\"\n            title=\"出力例\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">ul</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">flex-wrap</span><span class=\"token punctuation\">:</span> wrap<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">li</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">list-style</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 20%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">img</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">li a</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">li a .like</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0.6<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">text-shadow</span><span class=\"token punctuation\">:</span> 0 0 7px #000<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">h1</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>bold<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#333<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"jsコードサンプル（jquery）\">JSコードサンプル（jQuery）</h3>\n<p>JavaScriptサンプルコードです。jQuery使ってサクッと取得しました。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>今回はCDNからライブラリを取ってきました。</p>\n<p>値を取得できるか試してみます。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> limit <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//表示件数</span>\n  <span class=\"token keyword\">const</span> accessToken <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>user_access_token<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// アクセストークン</span>\n  <span class=\"token keyword\">const</span> businessID <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>instagram_bussiness_account_ID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//instagram_business_accountのID</span>\n  <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://graph.facebook.com/v10.0/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>businessID<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">?fields=name,media.limit(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>limit<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">){caption,media_url,thumbnail_url,permalink,like_count,comments_count,media_type}&amp;access_token=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>accessToken<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    url<span class=\"token operator\">:</span> url\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>media<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>コンソールログで確認すると、ちゃんとデータ取れています。わーい。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/be0b8f6decb345a78ec7e500a6cf130e/4b190/entry448-22.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcqBRL//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAEBAQEAAAAAAAAAAAAAAAAAIQFR/9oACAEBAAE/IdTiP//aAAwDAQACAAMAAAAQdC//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBn/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERMUFR8P/aAAgBAQABPxBllWdQTof/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/be0b8f6decb345a78ec7e500a6cf130e/81b7c/entry448-22.webp 158w,\n/static/be0b8f6decb345a78ec7e500a6cf130e/6ea66/entry448-22.webp 315w,\n/static/be0b8f6decb345a78ec7e500a6cf130e/8aab1/entry448-22.webp 630w,\n/static/be0b8f6decb345a78ec7e500a6cf130e/d00b9/entry448-22.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/be0b8f6decb345a78ec7e500a6cf130e/ff44c/entry448-22.jpg 158w,\n/static/be0b8f6decb345a78ec7e500a6cf130e/a6688/entry448-22.jpg 315w,\n/static/be0b8f6decb345a78ec7e500a6cf130e/828fb/entry448-22.jpg 630w,\n/static/be0b8f6decb345a78ec7e500a6cf130e/4b190/entry448-22.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/be0b8f6decb345a78ec7e500a6cf130e/828fb/entry448-22.jpg\"\n            alt=\"出力例\"\n            title=\"出力例\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>取得したインスタ投稿データ一覧を格納する<code class=\"language-text\">div</code>タグを作っておきます。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>insta<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>さっきの<code class=\"language-text\">div</code>タグに格納します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> list <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> limit <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//表示件数</span>\n  <span class=\"token keyword\">const</span> accessToken <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>user_access_token<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// アクセストークン</span>\n  <span class=\"token keyword\">const</span> businessID <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>instagram_bussiness_account_ID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//instagram_business_accountのID</span>\n  <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://graph.facebook.com/v10.0/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>businessID<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">?fields=name,media.limit(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>limit<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">){caption,media_url,thumbnail_url,permalink,like_count,comments_count,media_type}&amp;access_token=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>accessToken<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    url<span class=\"token operator\">:</span> url\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span>media<span class=\"token punctuation\">;</span>\n    $<span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index<span class=\"token punctuation\">,</span> val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      $<span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i<span class=\"token punctuation\">,</span> item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>media_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">//メディアのタイプがビデオの場合、サムネを取得</span>\n          media <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>media_type <span class=\"token operator\">==</span> <span class=\"token string\">'VIDEO'</span> <span class=\"token operator\">?</span> item<span class=\"token punctuation\">.</span>thumbnail_url <span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>media_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n          <span class=\"token comment\">// 一覧を変数listに格納</span>\n          list <span class=\"token operator\">+=</span>\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;li>\n            &lt;a href=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>item<span class=\"token punctuation\">.</span>permalink<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" target=\"_blank\" rel=\"noopener\">\n            &lt;img src=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>media<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n            &lt;span class=\"like\">&lt;i class=\"fa fa-heart\">&lt;/i></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>item<span class=\"token punctuation\">.</span>like_count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/span>&lt;/a>\n          &lt;/li></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#insta'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;ul></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>list<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/ul></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">jqXHR<span class=\"token punctuation\">,</span> status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#insta'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;p>読み込みに失敗しました。&lt;/p>'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"phpコードサンプル\">PHPコードサンプル</h3>\n<p>こちらはPHPのサンプルコードです。</p>\n<p>今回は<em>cURL関数</em>を使います。この関数を使うとPHPで、HTTPリクエストによる外部サイトとの送受信処理が可能です。</p>\n<p>PHPでは以下のように実行してみました。</p>\n<ol>\n<li>セッション初期化</li>\n<li>送用オプション設定</li>\n<li>セッションを実行<br><small>（CURLOPT_RETURNTRANSFERを設定するとサーバから取得した情報を保存可能）</small></li>\n<li>ハンドルのセットを閉じる</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token function\">curl_setopt</span> <span class=\"token punctuation\">(</span> <span class=\"token class-name type-declaration\">CurlHandle</span> <span class=\"token variable\">$handle</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword type-hint\">int</span> <span class=\"token variable\">$option</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword type-hint\">mixed</span> <span class=\"token variable\">$value</span> <span class=\"token punctuation\">)</span></code></pre></div>\n<p><a href=\"https://www.php.net/manual/ja/function.curl-setopt.php\">curl_setopt | php</a></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$list</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$instagram</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$id</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>instagram_bussiness_account_ID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$token</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>user_access_token<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$count</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>表示数<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$url</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'https://graph.facebook.com/v10.0/'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$id</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'?fields=name,media.limit('</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$count</span><span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'){caption,media_url,thumbnail_url,permalink,like_count,comments_count,media_type}&amp;access_token='</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$token</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$curl</span> <span class=\"token operator\">=</span> <span class=\"token function\">curl_init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">curl_setopt</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$curl</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">CURLOPT_URL</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$url</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">curl_setopt</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$curl</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">CURLOPT_CUSTOMREQUEST</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'GET'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">curl_setopt</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$curl</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">CURLOPT_RETURNTRANSFER</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token function\">curl_exec</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$curl</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">curl_close</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$curl</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//エラー</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$response</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$instagram</span> <span class=\"token operator\">=</span> <span class=\"token function\">json_decode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$response</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$instagram</span><span class=\"token operator\">-></span><span class=\"token property\">error</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$instagram</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$instagram</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token property\">data</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//メディアのタイプがビデオの場合、サムネを取得</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$value</span><span class=\"token operator\">-></span><span class=\"token property\">media_type</span><span class=\"token operator\">==</span><span class=\"token string single-quoted-string\">'VIDEO'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$src</span><span class=\"token operator\">=</span><span class=\"token variable\">$value</span><span class=\"token operator\">-></span><span class=\"token property\">thumbnail_url</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$video</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'&lt;span class=\"video\">&lt;/span>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$src</span><span class=\"token operator\">=</span><span class=\"token variable\">$value</span><span class=\"token operator\">-></span><span class=\"token property\">media_url</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$video</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token variable\">$list</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;li>&lt;a href=\"'</span><span class=\"token operator\">.</span><span class=\"token variable\">$value</span><span class=\"token operator\">-></span><span class=\"token property\">permalink</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'\" target=\"_blank\">&lt;img src=\"'</span><span class=\"token operator\">.</span><span class=\"token variable\">$src</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'\" alt=\"'</span><span class=\"token operator\">.</span><span class=\"token variable\">$value</span><span class=\"token operator\">-></span><span class=\"token property\">caption</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'\">'</span><span class=\"token operator\">.</span><span class=\"token variable\">$video</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'&lt;span class=\"like\">&lt;i class=\"fa fa-heart\">&lt;/i>'</span><span class=\"token operator\">.</span><span class=\"token variable\">$value</span><span class=\"token operator\">-></span><span class=\"token property\">like_count</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'&lt;/span>&lt;/a>&lt;/li>'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">echo</span> <span class=\"token string single-quoted-string\">'&lt;ul>'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$list</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'&lt;/ul>'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"まとめ\">まとめ</h2>\n<p>長くなりました。インスタ投稿の一覧取得方、PHPとJSのサンプルコード両方紹介しました。</p>\n<p>ウェブサイトにインスタの一覧を表示できたら超いいですよね！サイトを更新しなくても画像が常に更新されるのでリッチに見えますし、クライアントも喜びます。</p>\n<p>また仕様変更に気づいたらメンテ入れます！</p>\n<p>最後までお読みくださりありがとうございました。感謝！</p>"}