{"data":{"site":{"siteMetadata":{"title":"銀ねこアトリエ"}},"allFile":{"edges":[{"node":{"name":"entry401","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8e8d8","images":{"fallback":{"src":"/static/206512c4ac54a09bce7ea7c2b867aeaa/018b3/entry401.jpg","srcSet":"/static/206512c4ac54a09bce7ea7c2b867aeaa/15952/entry401.jpg 375w,\n/static/206512c4ac54a09bce7ea7c2b867aeaa/018b3/entry401.jpg 640w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/206512c4ac54a09bce7ea7c2b867aeaa/fd9fd/entry401.webp 375w,\n/static/206512c4ac54a09bce7ea7c2b867aeaa/66a24/entry401.webp 640w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":480}}}}]},"markdownRemark":{"id":"82ede267-5fc7-5b4d-9793-688ec3584702","excerpt":"今までのGatsbyの記事と注意点 現在ここまで記載しています。制作するまでを目標にUPしていくので順を追ったらGatsbyサイトが作れると思います。 インストールからNetlify…","html":"<h2 id=\"今までのgatsbyの記事と注意点\">今までのGatsbyの記事と注意点</h2>\n<p>現在ここまで記載しています。<br>制作するまでを目標にUPしていくので順を追ったらGatsbyサイトが作れると思います。</p>\n<ol>\n<li><a href=\"/blogs/entry401/\">インストールからNetlifyデプロイまで</a></li>\n<li><a href=\"/blogs/entry406/\">投稿ページの充実と画像の方法</a></li>\n<li><a href=\"/blogs/entry408/\">ブログ記事、カテゴリー、タグ一覧の出力</a></li>\n<li><a href=\"/blogs/entry410/\">プラグインを利用して目次出力</a></li>\n<li><a href=\"/blogs/entry413/\">プラグインナシで一覧にページネーション実装</a></li>\n<li><a href=\"/blogs/entry416/\">個別ページテンプレート作成</a></li>\n<li>プラグインHelmetでSEO調整（←イマココ）</li>\n<li><a href=\"/blogs/entry421/\">CSSコンポーネントでオリジナルページを作ろう！！</a></li>\n<li><a href=\"/blogs/entry430/\">関連記事一覧出力</a></li>\n</ol>\n<h3 id=\"このシリーズではテーマgatsby-starter-blogを改造\">このシリーズではテーマGatsby Starter Blogを改造</h3>\n<p>この記事は一番メジャーなテンプレート、「<em>Gatsby Starter Blog</em>」を改造しています。同じテーマでないと動かない可能性があります。</p>\n<h2 id=\"プラグインhelmetとは？\">プラグインHelmetとは？</h2>\n<p>Helmetは「<em>Gatsby Starter Blog</em>」に最初からインストールされているプラグインで、head内にメタタグをまとめて出力してくれます。</p>\n<p>今回ファイルの追加はとくにしません。</p>\n<p>基本的には既存ファイルのsrc/components/seo.jsを改造します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/ (プロジェクトディレクトリー)\n  ├ gatsby-node.js\n  └ gatsby-config.js\n    └ src/\n       |  ├templates/\n       |    └ blog-post.js\n       └ components/\n           └ seo.js（head内にmetaタグなどを出力する）</code></pre></div>\n<h2 id=\"ogp画像などの追加\">OGP画像などの追加</h2>\n<p>og:imageや、twitter:card、meta:thumbnailに画像が追加できるようにします。</p>\n<p>デフォルトの設定のままだと表示されません。\nデフォルトのOGP画像を設定しておきたいのでgatsby-config.jsを修正します。</p>\n<p><a href=\"localhost:8000/___graphql\">localhost:8000/___graphql</a>ででクエリを叩いでパスを取得しておきます。</p>\n<p>common/newogp.pngというファイルを探している場合、ファイルは以下のクエリで格納場所が取得できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">query MyQuery <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">allFile</span><span class=\"token punctuation\">(</span>filter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>relativePath<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>eq<span class=\"token operator\">:</span> <span class=\"token string\">\"common/newogp.png\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        id\n        childImageSharp <span class=\"token punctuation\">{</span>\n          id\n          sizes <span class=\"token punctuation\">{</span>\n            originalImg\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/28f98425dc9864a3ce19c590ca394b94/a2510/entry418-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe6oyo//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAQUAAAAAAAAAAAAAAAAAATEQESFxgf/aAAgBAQABPyGb7GsHBQOn/9oADAMBAAIAAwAAABCwz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExEFFx/9oACAEBAAE/EKwORgwUFwOxNHs1OP/Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/28f98425dc9864a3ce19c590ca394b94/81b7c/entry418-1.webp 158w,\n/static/28f98425dc9864a3ce19c590ca394b94/6ea66/entry418-1.webp 315w,\n/static/28f98425dc9864a3ce19c590ca394b94/8aab1/entry418-1.webp 630w,\n/static/28f98425dc9864a3ce19c590ca394b94/a70f5/entry418-1.webp 945w,\n/static/28f98425dc9864a3ce19c590ca394b94/a5d4d/entry418-1.webp 1000w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/28f98425dc9864a3ce19c590ca394b94/ff44c/entry418-1.jpg 158w,\n/static/28f98425dc9864a3ce19c590ca394b94/a6688/entry418-1.jpg 315w,\n/static/28f98425dc9864a3ce19c590ca394b94/828fb/entry418-1.jpg 630w,\n/static/28f98425dc9864a3ce19c590ca394b94/0ede0/entry418-1.jpg 945w,\n/static/28f98425dc9864a3ce19c590ca394b94/a2510/entry418-1.jpg 1000w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/28f98425dc9864a3ce19c590ca394b94/828fb/entry418-1.jpg\"\n            alt=\"/content/assets/common内にあるファイルは以下のクエリで格納場所が取得\"\n            title=\"/content/assets/common内にあるファイルは以下のクエリで格納場所が取得\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//取得した画像のパス\n/static/734c25c8328e14e4d8df99abaea453a2/f3583/newogp.png</code></pre></div>\n<p>gatsby-config.jsに画像のパスを追記しておきます。OGP画像はドメインごとのパスを設定しておかないとうまく動かないので、公開先のドメインを追記しておきます。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">銀ねこアトリエ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    author<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">かみーゆ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      summary<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">「銀ねこアトリエ」はセブ島に住むフロントエンドエンジニア</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">「銀ねこアトリエ」はセブ島に住むフロントエンドエンジニアの気ままな日記です。</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    siteUrl<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://ginneko-atelier.com</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    image<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://ginneko-atelier.com/static/734c25c8328e14e4d8df99abaea453a2/f3583/newogp.png</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n    social<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\n      twitter<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lirioL</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      instagram<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">yurico.k</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      youtube<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://www.youtube.com/channel/UCbSgjkCIPucux8cFTuQcdcw</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ~ 省略 ~</span></code></pre></div>\n<p>記事などはそれぞれのアイキャッチをOGPとして出力したいので、アイキャッチのフルパスが取得できるようにします。</p>\n<p>gatsby-node.jsにコードを追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token comment\">// ~ 省略 ~</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> reporter <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// Get all markdown blog posts sorted by date</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      {\n        allMarkdownRemark(\n          sort: { fields: [frontmatter___date], order: ASC }\n          limit: 1000\n        ) {\n      totalCount\n      nodes {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            tags\n            category\n            cateId\n            hero //なければ追加しておく\n            pagetype\n          }\n        }\n      }\n      }\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>pagetype <span class=\"token operator\">===</span> <span class=\"token string\">'blog'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> previousPostId <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id\n    <span class=\"token keyword\">const</span> nextPostId <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n      component<span class=\"token operator\">:</span> blogPost<span class=\"token punctuation\">,</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n        previousPostId<span class=\"token punctuation\">,</span>\n        nextPostId<span class=\"token punctuation\">,</span>\n        hero<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>hero<span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    count<span class=\"token operator\">++</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ~ 省略 ~</span>\n</code></pre></div>\n<p>Blog Postからサムネイルのパスを取れるようにクエリを書き換えておきます。<code class=\"language-text\">allFile()</code>の追記をします。</p>\n<p>これでSEOコンポーネントにアイキャッチのimageのパスを渡せるようになりました。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ~ 省略 ~</span>\n<span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span>\n  title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n  description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>description <span class=\"token operator\">||</span> post<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">}</span>\n  image<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>src<span class=\"token punctuation\">}</span> <span class=\"token comment\">//追加</span>\n  location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> <span class=\"token comment\">//なければ追加</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n<span class=\"token comment\">// ~ 省略 ~</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query BlogPostBySlug(\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n    $hero: String\n  )\n  {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allFile(\n      filter: {\n        relativePath: {eq: $hero}\n        sourceInstanceName: {eq: \"assets\"}\n      }\n    ){\n      edges {\n        node {\n          name\n          relativePath\n          childImageSharp {\n            fluid(maxWidth: 800) {\n              ...GatsbyImageSharpFluid_withWebp\n            }\n          }\n        }\n      }\n    }\n    markdownRemark(\n      id: {eq: $id }\n    ){\n      id\n      excerpt(pruneLength: 160)\n      html\n      tableOfContents\n      frontmatter {\n        title\n        date(formatString: \"YYYY.MM.DD\")\n        description\n        lead\n        hero\n        category\n        cateId\n        tags\n        pagetype\n        modifieddate(formatString: \"YYYY.MM.DD\")\n      }\n    }\n    previous: markdownRemark(id: {eq: $previousPostId }) {\n      fields {\n          slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    next: markdownRemark(id: {eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span>\n</code></pre></div>\n<p>src/components/seo.jsを改良します。</p>\n<p>サイトの基本情報を引っ張ってこれるようにしておきます。</p>\n<p>アイキャッチを持っていればアイキャッチのパスを取得しなければデフォルト画像を表示できるようにします。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ~ 省略 ~</span>\n\n<span class=\"token keyword\">import</span> config <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../gatsby-config\"</span>\n\n<span class=\"token comment\">// ~ 省略 ~</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SEO</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> description<span class=\"token punctuation\">,</span> lang<span class=\"token punctuation\">,</span> meta<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">,</span> location <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> site <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>\n    graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    query {\n      site {\n      siteMetadata {\n        title\n        description\n      }\n      }\n    }\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token keyword\">const</span> ogImage <span class=\"token operator\">=</span> image <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>siteUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>image<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>image\n\n  <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Helmet\n    <span class=\"token comment\">// ~ 省略 ~</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Helmet<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token constant\">SEO</span><span class=\"token punctuation\">.</span>defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  lang<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ja</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  meta<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  description<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token constant\">SEO</span><span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  description<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\n  lang<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\n  meta<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span>PropTypes<span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  title<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n  image<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span> <span class=\"token comment\">//追加</span>\n  location<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span> <span class=\"token comment\">//なければ追加</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token constant\">SEO</span></code></pre></div>\n<p>引数<code class=\"language-text\">image</code>から画像パスを取得します。取得できない場合はデフォルト画像を表示します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> ogImage <span class=\"token operator\">=</span> image <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>siteUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>image<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>image</code></pre></div>\n<p>メタが出力されるように追加します。</p>\n<p>今回は<em>og:image</em>、<em>twitter:card</em>、<em>metathumbnail</em>の3つを追加しました。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Helmet\n    htmlAttributes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n      lang<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span>\n    titleTemplate<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageName<span class=\"token punctuation\">}</span>\n    meta<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">description</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> metaDescription<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        property<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">og:title</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> title<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        property<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">og:description</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> metaDescription<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        property<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">og:type</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">website</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">og:image</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n        content<span class=\"token operator\">:</span> ogImage<span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">twitter:card</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">summary_large_image</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">thumbnail</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n        content<span class=\"token operator\">:</span> ogImage<span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">twitter:image</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n        content<span class=\"token operator\">:</span> ogImage<span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">twitter:creator</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>social<span class=\"token punctuation\">.</span>twitter <span class=\"token operator\">||</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">twitter:title</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> title<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">twitter:description</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        content<span class=\"token operator\">:</span> metaDescription<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>meta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">></span></code></pre></div>\n<h3 id=\"urlの正規化をする\">URLの正規化をする</h3>\n<p>このサイトはページネーションがあるので投稿が増えると、一覧ページが無限に増えます。\n類似ページが何個もあると検索エンジンに認識されるのはSEO的にもよろしくないので、カノニカル属性を使ってURLを正規化します。\n※ FBシェアにおけるパラメーターの不具合を発見しcanonilcal属性を修正しました。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>canonical<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>URL<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre></div>\n<blockquote>\n<h3 id=\"canonical属性とは？\">canonical属性とは？</h3>\n<p>canonical（カノニカル）属性とは、Google、Yahoo!、MSNなどの大手検索エンジンがサポートするURLを正規化するためのタグです。\n同一のコンテンツが複数のURLで閲覧できる状態になっている場合、検索エンジンがインデックスするべきURLを統一させておく必要があります。\nSEO対策において必須の内部対策です。</p>\n</blockquote>\n<p>各ページのテンプレート（post-blog.jsなど）のSEOコンポーネントに<code class=\"language-text\">location</code>がなければ追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">      <span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span>\n        title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n        description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>description <span class=\"token operator\">||</span> post<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">}</span>\n        image<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>src<span class=\"token punctuation\">}</span>\n        location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span>\n        type<span class=\"token operator\">=</span><span class=\"token string\">'archive'</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>URLに<code class=\"language-text\">/page/数字/</code>を含む場合は除去し、そのURLをcanonical属性として出力します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token keyword\">let</span> blogUrl <span class=\"token operator\">=</span> location <span class=\"token operator\">?</span> location<span class=\"token punctuation\">.</span>href <span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>siteUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token comment\">// ページネーション削除</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'archive'</span> <span class=\"token operator\">||</span> type <span class=\"token operator\">===</span> <span class=\"token string\">'blogs'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    blogUrl <span class=\"token operator\">=</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span>blogUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">page\\/([0-9])+\\/</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Helmet\n      htmlAttributes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n        lang<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span>\n      titleTemplate<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageName<span class=\"token punctuation\">}</span>\n      meta<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// ~ 省略 ~</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">og:url</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      content<span class=\"token operator\">:</span> blogUrl<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>meta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"canonical\"</span> href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>blogUrl<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Helmet<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ~ 省略 ~</span></code></pre></div>\n<h2 id=\"構造化データ追加\">構造化データ追加</h2>\n<p>構造化データを追加します。トップページはtypeを<code class=\"language-text\">WebSite</code>それ以外は<code class=\"language-text\">WebPage</code>とします。</p>\n<p>またブログ投稿（typeがarticleのもの）のみ、BlogPosting（<em>この投稿はブログだよ！！って検索エンジンに教えます</em>）の構造化データを追加します。</p>\n<p>post-blog.jsのSEOコンポーネントに<code class=\"language-text\">type=\"article\"</code>を追加しておきます。</p>\n<h3 id=\"ページのデータ\">ページのデータ</h3>\n<p>seo.jsに構造化データのJsonを出力できるようにします。更新日（modifieddate）や公開日情報（date）もすべて取得できるようにしておきます。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SEO</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> description<span class=\"token punctuation\">,</span> lang<span class=\"token punctuation\">,</span> meta<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">,</span> modifieddate<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> type <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token comment\">//トップページの判定</span>\n  <span class=\"token keyword\">const</span> isRoot <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>siteUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">===</span> blogUrl <span class=\"token operator\">?</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token keyword\">let</span> page <span class=\"token operator\">=</span> isRoot <span class=\"token operator\">?</span> <span class=\"token string\">'WebSite'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'WebPage'</span>\n\n  <span class=\"token comment\">//更新日がない場合公開日を代入</span>\n  <span class=\"token keyword\">const</span> modified <span class=\"token operator\">=</span> modifieddate <span class=\"token operator\">?</span> modifieddate <span class=\"token operator\">:</span> date\n\n  <span class=\"token comment\">// 執筆者情報</span>\n  <span class=\"token keyword\">const</span> author <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Person'</span><span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n      description<span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'url'</span><span class=\"token operator\">:</span> domain<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"sameAs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>social<span class=\"token punctuation\">.</span>twitter<span class=\"token punctuation\">,</span>\n        config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>social<span class=\"token punctuation\">.</span>instagram<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//公開する人の判定</span>\n  <span class=\"token keyword\">const</span> publisher <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Organization'</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">,</span>\n    logo<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'ImageObject'</span><span class=\"token punctuation\">,</span>\n      url<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>siteUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/icons/icon-72x72.png</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      width<span class=\"token operator\">:</span> <span class=\"token number\">72</span><span class=\"token punctuation\">,</span>\n      height<span class=\"token operator\">:</span> <span class=\"token number\">72</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n\n  <span class=\"token comment\">// JSON+LDの設定</span>\n  <span class=\"token keyword\">const</span> jsonLdConfigs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'@context'</span><span class=\"token operator\">:</span> <span class=\"token string\">'http://schema.org'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> page<span class=\"token punctuation\">,</span>\n      inLanguage<span class=\"token operator\">:</span> <span class=\"token string\">'ja'</span><span class=\"token punctuation\">,</span>\n      url<span class=\"token operator\">:</span> blogUrl<span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> pageName<span class=\"token punctuation\">,</span>\n      author<span class=\"token punctuation\">,</span>\n      publisher<span class=\"token punctuation\">,</span>\n      image<span class=\"token operator\">:</span> ogImage<span class=\"token punctuation\">,</span>\n      description<span class=\"token operator\">:</span> metaDescription<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'article'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    jsonLdConfigs<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'@context'</span><span class=\"token operator\">:</span> <span class=\"token string\">'http://schema.org'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'BlogPosting'</span><span class=\"token punctuation\">,</span>\n      url<span class=\"token operator\">:</span> blogUrl<span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> title<span class=\"token punctuation\">,</span>\n      headline<span class=\"token operator\">:</span> title<span class=\"token punctuation\">,</span>\n      image<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'ImageObject'</span><span class=\"token punctuation\">,</span>\n        url<span class=\"token operator\">:</span> ogImage<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      description<span class=\"token operator\">:</span> description<span class=\"token punctuation\">,</span>\n      datePublished<span class=\"token operator\">:</span> date<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      dateModified<span class=\"token operator\">:</span> modified<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      mainEntityOfPage<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'WebPage'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'@id'</span><span class=\"token operator\">:</span> blogUrl\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      author<span class=\"token punctuation\">,</span>\n      publisher\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Helmet\n    <span class=\"token comment\">// ~ 省略 ~</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>meta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"canonical\"</span> href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>blogUrl<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"application/ld+json\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>jsonLdConfigs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><span class=\"token comment\">/*追加*/</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Helmet<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token constant\">SEO</span><span class=\"token punctuation\">.</span>defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  lang<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ja</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  meta<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  description<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token constant\">SEO</span><span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  description<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\n  lang<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\n  meta<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span>PropTypes<span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  title<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n  image<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\n  type<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n  location<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\n  date<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n  modifieddate<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span><span class=\"token comment\">//追加</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token constant\">SEO</span></code></pre></div>\n<h3 id=\"パンくずリスト\">パンくずリスト</h3>\n<p>パンくずリストの構造化データも作成します。先ほどページ用に作ったJsonデータ<code class=\"language-text\">jsonLdConfigs</code>と結合させます。</p>\n<p>カテゴリーと記事は3階層まであるのでtypeで（<code class=\"language-text\">archive</code>と<code class=\"language-text\">article</code>）判定して出力内容を変えます。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isRoot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> breadCrumbList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    breadCrumbList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'ListItem'</span><span class=\"token punctuation\">,</span>\n        position<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        item<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'@id'</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>siteUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          name<span class=\"token operator\">:</span> <span class=\"token string\">'ホーム'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'archive'</span> <span class=\"token operator\">||</span> type <span class=\"token operator\">===</span> <span class=\"token string\">'article'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      breadCrumbList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'ListItem'</span><span class=\"token punctuation\">,</span>\n          position<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n          item<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'@id'</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>config<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>siteUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/blogs/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ブログ一覧</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span>\n      breadCrumbList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'ListItem'</span><span class=\"token punctuation\">,</span>\n          position<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n          item<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'@id'</span><span class=\"token operator\">:</span> blogUrl<span class=\"token punctuation\">,</span>\n            name<span class=\"token operator\">:</span> title<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      breadCrumbList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'ListItem'</span><span class=\"token punctuation\">,</span>\n          position<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n          item<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'@id'</span><span class=\"token operator\">:</span> blogUrl<span class=\"token punctuation\">,</span>\n            name<span class=\"token operator\">:</span> title<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    jsonLdConfigs<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'@context'</span><span class=\"token operator\">:</span> <span class=\"token string\">'http://schema.org'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'BreadcrumbList'</span><span class=\"token punctuation\">,</span>\n      itemListElement<span class=\"token operator\">:</span> breadCrumbList\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ぎっしり構造化データが出力されるようになりました！</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/32ab210b99b7848b4d875355499ddcd7/a2510/entry418-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHNkuKBP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABgQAAMBAQAAAAAAAAAAAAAAAAABESFh/9oACAEBAAE/IaXg3p//2gAMAwEAAgADAAAAEIfP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRAAAgMBAAAAAAAAAAAAAAAAABEBIVFB/9oACAEBAAE/EIolwTBkg//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/32ab210b99b7848b4d875355499ddcd7/81b7c/entry418-2.webp 158w,\n/static/32ab210b99b7848b4d875355499ddcd7/6ea66/entry418-2.webp 315w,\n/static/32ab210b99b7848b4d875355499ddcd7/8aab1/entry418-2.webp 630w,\n/static/32ab210b99b7848b4d875355499ddcd7/a70f5/entry418-2.webp 945w,\n/static/32ab210b99b7848b4d875355499ddcd7/a5d4d/entry418-2.webp 1000w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/32ab210b99b7848b4d875355499ddcd7/ff44c/entry418-2.jpg 158w,\n/static/32ab210b99b7848b4d875355499ddcd7/a6688/entry418-2.jpg 315w,\n/static/32ab210b99b7848b4d875355499ddcd7/828fb/entry418-2.jpg 630w,\n/static/32ab210b99b7848b4d875355499ddcd7/0ede0/entry418-2.jpg 945w,\n/static/32ab210b99b7848b4d875355499ddcd7/a2510/entry418-2.jpg 1000w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/32ab210b99b7848b4d875355499ddcd7/828fb/entry418-2.jpg\"\n            alt=\"構造化データ\"\n            title=\"構造化データ\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"プラグインを使ってgoogleanalyticsを追加（2021年4月6日追記！）\">プラグインを使ってGoogleAnalyticsを追加（2021年4月6日追記！）</h2>\n<p>プラグインを使ってGoogleアナリティクスで計測できるようにします。</p>\n<p><del>gatsby-plugin-google-analytics</del></p>\n<p>じゃなく、こっちを使います！</p>\n<p><a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-google-gtag/\">gatsby-plugin-google-gtag</a></p>\n<p>gatsby-plugin-google-analyticsはanalytics.jsが使われています。GA4でも計測したいのでgtag.jsに切り替える必要があります！</p>\n<p><small>※ 通常のGAタグのIDを使い、GA4と連携させます。</small></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install gatsby-plugin-google-gtag</code></pre></div>\n<p>プラグインをインストールしたら、gatsby-node.jsに追記します。</p>\n<p>Googleアナリティクスはプラグインの一番上の方に追記してください。<br><br></p>\n<p>トラッキングIDは直接書くこともできますが、<strong>Netlifyであれば環境変数で設定する方がベター</strong>です。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-google-gtag</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        trackingIds<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GOOGLE_ANALYTICS_TRACKING_ID</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//トラッキングID</span>\n          process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GOOGLE_ADSENSE_ID</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//Adsenseもまとめて入れられる！！</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        pluginConfig<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          head<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//headerに追記</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>環境変数はNetlifyの管理画面から設定したいプロジェクトを選び、deploy build > environmentを開きます。</p>\n<p>あとはEnvironment valiables（環境変数）を登録するだけです。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1e5603dcf44ac31cbdf5978e3e81468e/1678b/entry418-3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 123.41772151898734%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBQT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB7GgMRuErdKgf/8QAHBAAAQQDAQAAAAAAAAAAAAAAAAECAwQRFSEg/9oACAEBAAEFAm1Ika6nGa8Qx3Ah3z//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAdEAABAgcAAAAAAAAAAAAAAAARAAECEBIiMDOh/9oACAEBAAY/AmqhKtYLbyRwf//EABwQAAMBAAIDAAAAAAAAAAAAAAABESEQMVFhcf/aAAgBAQABPyFYVJRuyjfSk9vS/ApFLdHSVCCt26fS4XP/2gAMAwEAAgADAAAAEFv4PP/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQMBAT8QaRC5/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAECAQE/EGd//8QAHhABAAICAgMBAAAAAAAAAAAAAQARITFRcRBBYfD/2gAIAQEAAT8QUKYl2c1eI7lzMqHLc5fw7hWsXtBESCscRZtN/CZqEWzt38gUbs6hqe3fg1P/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1e5603dcf44ac31cbdf5978e3e81468e/81b7c/entry418-3.webp 158w,\n/static/1e5603dcf44ac31cbdf5978e3e81468e/6ea66/entry418-3.webp 315w,\n/static/1e5603dcf44ac31cbdf5978e3e81468e/8aab1/entry418-3.webp 630w,\n/static/1e5603dcf44ac31cbdf5978e3e81468e/78e23/entry418-3.webp 729w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1e5603dcf44ac31cbdf5978e3e81468e/ff44c/entry418-3.jpg 158w,\n/static/1e5603dcf44ac31cbdf5978e3e81468e/a6688/entry418-3.jpg 315w,\n/static/1e5603dcf44ac31cbdf5978e3e81468e/828fb/entry418-3.jpg 630w,\n/static/1e5603dcf44ac31cbdf5978e3e81468e/1678b/entry418-3.jpg 729w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1e5603dcf44ac31cbdf5978e3e81468e/828fb/entry418-3.jpg\"\n            alt=\"Netlifyの管理画面からプロジェクトを選択し、deploy build environmentから設定\"\n            title=\"Netlifyの管理画面からプロジェクトを選択し、deploy build environmentから設定\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><em>process.env.プラス設定した変数名</em>で呼び出せます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">process.env.GOOGLE_ANALYTICS_TRACKING_ID</code></pre></div>\n<p><br>念の為analyticsのトラッキングコードIDの調べ方です。</p>\n<p>Analyticsの管理画面から確認できます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/30ece27cf2988b69db4362725f606649/4b190/entry418-4.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe3caUD/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAAAATGBECFB/9oACAEBAAE/IVOiyzopx//aAAwDAQACAAMAAAAQUw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAAAARExEGGh/9oACAEBAAE/EHbuRDEb8xqGf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/30ece27cf2988b69db4362725f606649/81b7c/entry418-4.webp 158w,\n/static/30ece27cf2988b69db4362725f606649/6ea66/entry418-4.webp 315w,\n/static/30ece27cf2988b69db4362725f606649/8aab1/entry418-4.webp 630w,\n/static/30ece27cf2988b69db4362725f606649/d00b9/entry418-4.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/30ece27cf2988b69db4362725f606649/ff44c/entry418-4.jpg 158w,\n/static/30ece27cf2988b69db4362725f606649/a6688/entry418-4.jpg 315w,\n/static/30ece27cf2988b69db4362725f606649/828fb/entry418-4.jpg 630w,\n/static/30ece27cf2988b69db4362725f606649/4b190/entry418-4.jpg 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/30ece27cf2988b69db4362725f606649/828fb/entry418-4.jpg\"\n            alt=\"analyticsのトラッキングコードからIDのみ登録\"\n            title=\"analyticsのトラッキングコードからIDのみ登録\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ここまでできたらあとはディプロイしたらanalyticsでトラッキングできるようになります。<br></p>\n<h2 id=\"search-consoleと連携\">Search consoleと連携</h2>\n<p>search consoleも連携しましょう。メタタグにgoogle-site-verificationを追加するのが簡単です。</p>\n<p>メタタグはsearch consoleの管理画面 > 設定 > 所有者の確認 >「HTMLタグ」から調べることができます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b6f952e94fe3e77393d4d3bd2aef49b9/a2510/entry418-5.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.82278481012659%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd1qSyA//8QAGBABAAMBAAAAAAAAAAAAAAAAAAECEBH/2gAIAQEAAQUC2XFX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAAAEg/9oACAEBAAY/ApZ//8QAGRAAAwADAAAAAAAAAAAAAAAAARARACFx/9oACAEBAAE/IXshXgzP/9oADAMBAAIAAwAAABCXz//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EIf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAADAAMBAQAAAAAAAAAAAAAAAREhUXFhof/aAAgBAQABPxBpKTFexNb+l9FhKzJ0yNJL9H//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b6f952e94fe3e77393d4d3bd2aef49b9/81b7c/entry418-5.webp 158w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/6ea66/entry418-5.webp 315w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/8aab1/entry418-5.webp 630w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/a70f5/entry418-5.webp 945w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/a5d4d/entry418-5.webp 1000w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b6f952e94fe3e77393d4d3bd2aef49b9/ff44c/entry418-5.jpg 158w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/a6688/entry418-5.jpg 315w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/828fb/entry418-5.jpg 630w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/0ede0/entry418-5.jpg 945w,\n/static/b6f952e94fe3e77393d4d3bd2aef49b9/a2510/entry418-5.jpg 1000w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b6f952e94fe3e77393d4d3bd2aef49b9/828fb/entry418-5.jpg\"\n            alt=\"search consoleの管理画面 &gt; 設定 &gt; 所有者の確認から「HTML タグ」\"\n            title=\"search consoleの管理画面 &gt; 設定 &gt; 所有者の確認から「HTML タグ」\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>google-site-verification<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>値<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ~ 省略 ~</span>\n\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Helmet\n      htmlAttributes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n        lang<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span>\n      titleTemplate<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageName<span class=\"token punctuation\">}</span>\n      meta<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>\n\n    <span class=\"token comment\">// ~ 省略 ~</span>\n\n        <span class=\"token punctuation\">{</span>\n          name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">google-site-verification</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          content<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">値</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// ~ 省略 ~</span></code></pre></div>\n<h2 id=\"プラグインを使ってサイトマップを出力\">プラグインを使ってサイトマップを出力</h2>\n<p>最後に、サイトマップの出力をしましょう。\nこれでsearch consoleから、いつでも更新も通知できるようになります。</p>\n<p><a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-sitemap/\">gatsby-plugin-sitemap</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install gatsby-plugin-sitemap</code></pre></div>\n<p>siteMetadata内のsiteUrlに必ずドメインを設定してください。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    siteUrl<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://ginneko-atelier.com</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-sitemap</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>私のケースではページネーションで生成されたページはサイトマップから除外しました。サイトマップのファイルはsitemap.xmlとしましたがお好みで変えることも可能です。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-sitemap</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        output<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/sitemap.xml</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        exclude<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blogs/page/*</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blogs/tags/*/page/*</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blogs/*/page/*</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"まとめ・seo情報が更新されたらブログを書くのが楽しくなる！\">まとめ・SEO情報が更新されたらブログを書くのが楽しくなる！</h2>\n<p>これで、FBやTwitterでのシェアしてOGP画像が表示されるようになりました。</p>\n<p>次回「<em>Gatsbyブログサイト移行物語</em>」ではmdファイルなしで<a href=\"/blogs/entry420/\">CSSモジュールを使ってportfolioページを作ったのでそのやり方についてご紹介</a>します。</p>\n<p>皆さんのコーディングライフの一助となれば幸いです。</p>\n<p>最後までお読みいただきありがとうございました。</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AEgatsby%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E6%B3%A8%E6%84%8F%E7%82%B9\">今までのGatsbyの記事と注意点</a></p>\n<ul>\n<li><a href=\"#%E3%81%93%E3%81%AE%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%E3%81%A7%E3%81%AF%E3%83%86%E3%83%BC%E3%83%9Egatsby-starter-blog%E3%82%92%E6%94%B9%E9%80%A0\">このシリーズではテーマGatsby Starter Blogを改造</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3helmet%E3%81%A8%E3%81%AF%EF%BC%9F\">プラグインHelmetとは？</a></p>\n</li>\n<li>\n<p><a href=\"#ogp%E7%94%BB%E5%83%8F%E3%81%AA%E3%81%A9%E3%81%AE%E8%BF%BD%E5%8A%A0\">OGP画像などの追加</a></p>\n<ul>\n<li><a href=\"#url%E3%81%AE%E6%AD%A3%E8%A6%8F%E5%8C%96%E3%82%92%E3%81%99%E3%82%8B\">URLの正規化をする</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E6%A7%8B%E9%80%A0%E5%8C%96%E3%83%87%E3%83%BC%E3%82%BF%E8%BF%BD%E5%8A%A0\">構造化データ追加</a></p>\n<ul>\n<li><a href=\"#%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF\">ページのデータ</a></li>\n<li><a href=\"#%E3%83%91%E3%83%B3%E3%81%8F%E3%81%9A%E3%83%AA%E3%82%B9%E3%83%88\">パンくずリスト</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6googleanalytics%E3%82%92%E8%BF%BD%E5%8A%A0%EF%BC%882021%E5%B9%B44%E6%9C%886%E6%97%A5%E8%BF%BD%E8%A8%98%EF%BC%81%EF%BC%89\">プラグインを使ってGoogleAnalyticsを追加（2021年4月6日追記！）</a></p>\n</li>\n<li>\n<p><a href=\"#search-console%E3%81%A8%E9%80%A3%E6%90%BA\">Search consoleと連携</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%82%B5%E3%82%A4%E3%83%88%E3%83%9E%E3%83%83%E3%83%97%E3%82%92%E5%87%BA%E5%8A%9B\">プラグインを使ってサイトマップを出力</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81%E3%83%BBseo%E6%83%85%E5%A0%B1%E3%81%8C%E6%9B%B4%E6%96%B0%E3%81%95%E3%82%8C%E3%81%9F%E3%82%89%E3%83%96%E3%83%AD%E3%82%B0%E3%82%92%E6%9B%B8%E3%81%8F%E3%81%AE%E3%81%8C%E6%A5%BD%E3%81%97%E3%81%8F%E3%81%AA%E3%82%8B%EF%BC%81\">まとめ・SEO情報が更新されたらブログを書くのが楽しくなる！</a></p>\n</li>\n</ul>","frontmatter":{"title":"Gatsbyブログサイト移行物語7~プラグインHelmetでSEO調整~","date":"2020.12.16","description":"Gatsby記事もこれで7記事目となりました！！表示が早いだけではNG!!!サイトをちゃんと機能させるため、SEOで出力する情報を調整しました。パンくずやページの構造化データやOGP画像なども調整しています。※FBシェアにおけるcanonilcal属性を修正しました。※GA4に対応しました。","lead":["Gatsby記事もこれで7記事目となりました！！表示が早いだけではNG!!!サイトをちゃんと機能させるため、SEOで出力する情報を調整しました。パンくずやページの構造化データやOGP画像なども調整しています。","※FBシェアのcanonilcal属性を修正しました。","※GA4に対応しました。"],"hero":"2020/entry401.jpg","cateId":"web-developer","tags":["JavaScript","React","Gatsby"],"pagetype":"blog","modifieddate":"2021.04.06"}},"previous":{"fields":{"slug":"/blogs/entry417/"},"frontmatter":{"title":"海外は治安が悪い？！住む場所を選んで上手に海外生活する方法"}},"next":{"fields":{"slug":"/blogs/entry419/"},"frontmatter":{"title":"失敗したくない人必見。オフショア開発発注マニュアル"}}},"pageContext":{"id":"82ede267-5fc7-5b4d-9793-688ec3584702","previousPostId":"b5884721-13d9-5d15-8c08-9cc06cfa4bad","nextPostId":"12c29963-06ab-56ec-859e-8aad98fedb8f","hero":"2020/entry401.jpg"}}