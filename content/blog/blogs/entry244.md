---
title: hostsを利用したドメイン移管の確認方法
date: 2016-04-08
hero: 2014/entry208.png
pagetype: blog
category: 'Back End'
cateId: 'back-end-program'
tags: ["コマンド"]
description: hostsファイルなるものを書き換えて、ドメインを確認するというのをやったのでやり方をメモしておきます。ちなみに新しいコマンド（魔法）の活用法も覚えたよ。
lead: ["フロントエンドエンジニアのかみーゆです。","hostsファイルなるものを書き換えて、ドメインを確認するというのをやったのでやり方をメモしておきます。ちなみに新しいコマンド（魔法）の活用法も覚えたよ。"]
---
## hostsてなんぞ？
Wikipediaによると…

> hosts（ホスツ）とは、TCP/IPを利用するコンピュータにおけるホスト名のデータベースで、IPアドレスとホスト名の対応を記述したテキストファイルである。
> 引用：[Wikipedia](https://ja.wikipedia.org/wiki/Hosts)

IPとホスト名を記したデータベースということで、中身を確認するためにコマンドを叩いてみてみる。
![中身を確認するためにコマンドを叩いてみてみる](./images/2016/entry244-1.png)

```
sudo vi /etc/hosts
```

sudoコマンドでhostsファイルを開きます。
sudoなのでパスワードを求めて来られるかと思いますのでパスワードも入れてください。

あくまでマック版でのやり方なのでWindowsだと格納されている場所が違うと思います。
viでファイルを編集します。

* a … ファイル編集
* :w! … 保存(written)
* :q! … 終了(quit)

右にドメイン、左にIPを追加します。

![中身を確認するためにコマンドを叩いてみてみる](./images/2016/entry244-2.png)

一度ブラウザを完全に落として、再起動しドメインを叩くと反映していることが確認できます。

サブドメインがある場合、さらにその数だけhostsファイルを確認します。

さらにpingコマンドでドメインが動いているのか確認。

```
$ ping ginneko-atelier.com
```

すると、12.330msとかでレスポンスが返ってきていることが確認できます。

![12.330msとかでレスポンスが返ってきていることを確認](./images/2016/entry244-3.png)

もし、存在しないIPなどの場合は

> ping: cannot resolve 192.168.XX.XXX: Unknown host<br>
> Request timeout for icmp_seq 0〜

といった感じになってしまいます。

確認ができたらDNSを切り替え、hostsファイルの一時的に追加したドメインを削除します。
再確認する時はブラウザの再起動もお忘れなく。

## pingコマンドが他にも便利
pingコマンドはDNSが反映したのを確認するだけでなく他にも便利。

レスポンスが返ってこないから、サーバの管理会社のホームページを確認してみたら障害情報のお知らせなんかがインフォにあったり、負荷がかかり過ぎていたり。。。。

せっかくコマンドを覚えたのでしっかり活用をしようと思います。
