{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogs/entry211/","result":{"data":{"site":{"siteMetadata":{"title":"銀ねこアトリエ"}},"allFile":{"edges":[{"node":{"name":"entry211","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#182858","images":{"fallback":{"src":"/static/50289ec0f13f62d7f8cef37c7b1e21c1/b9c27/entry211.png","srcSet":"/static/50289ec0f13f62d7f8cef37c7b1e21c1/cc1cd/entry211.png 350w,\n/static/50289ec0f13f62d7f8cef37c7b1e21c1/a03b8/entry211.png 750w,\n/static/50289ec0f13f62d7f8cef37c7b1e21c1/93b03/entry211.png 1080w,\n/static/50289ec0f13f62d7f8cef37c7b1e21c1/b9c27/entry211.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/50289ec0f13f62d7f8cef37c7b1e21c1/4c075/entry211.webp 350w,\n/static/50289ec0f13f62d7f8cef37c7b1e21c1/e56aa/entry211.webp 750w,\n/static/50289ec0f13f62d7f8cef37c7b1e21c1/257a3/entry211.webp 1080w,\n/static/50289ec0f13f62d7f8cef37c7b1e21c1/296b8/entry211.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":900}}}}]},"markdownRemark":{"id":"aee7a1cb-ee97-5b25-aa7a-476da7ffd27f","excerpt":"この記事の対象 WordPressを少し改造したり、カスタマイズできる WordPressでブログをカスタマイズしたい HTMLやCSSがわかる ショートコードの作り方 ショートタグは投稿でphpの代わりに使えるワードプレス専用のタグです。 ショートコードAPI…","html":"<h3 id=\"この記事の対象\">この記事の対象</h3>\n<ul>\n<li>WordPressを少し改造したり、カスタマイズできる</li>\n<li>WordPressでブログをカスタマイズしたい</li>\n<li>HTMLやCSSがわかる</li>\n</ul>\n<div class=\"msg-baloon\">\n<p><img src=\"/static/ecd737bbd9e6b99fd33fbd308f2b88e8/f836f/camille.jpg\">かみーゆ</p>\n<p>簡単な実装から順番に紹介していきます！！！</p>\n</div>\n<h2 id=\"ショートコードの作り方\">ショートコードの作り方</h2>\n<p>ショートタグは投稿でphpの代わりに使えるワードプレス専用のタグです。</p>\n<p><a href=\"https://wpdocs.osdn.jp/%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89_API\">ショートコードAPI</a></p>\n<p>変数や関数が使えるのでとっても便利です。</p>\n<p>たとえば、サイトのURLのショートタグを作りたいときのコードの書き方はこんな感じ。functions.phpに追記するだけです。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$home</span> <span class=\"token operator\">=</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$home</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'URL'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'home_url'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">add_shortcode</code>関数でショートコードとして呼び出すことができます。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span>ショートコード名<span class=\"token punctuation\">,</span> 関数<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>投稿記事内にショートコードを利用できるようになります。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[URL]<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>トップページ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"ヘビーに使うバナーをショートコードとして登録し呼び出す\">ヘビーに使うバナーをショートコードとして登録し呼び出す</h3>\n<p>バナーやコンバージョンエリアを呼び出すのに便利です。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">banner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;a href=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'/campaign/\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;img src=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">get_bloginfo</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'template_url'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'\" alt=\"キャンペーンバナー\" width=\"700\" heigth=\"250\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;/img>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$banner</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'banner'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'banner'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>記事内でバナー表示したいところに追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">キャンペーンやってるよ！！\n[banner]</code></pre></div>\n<h2 id=\"ショートコードに引数を使って値を追加する\">ショートコードに引数を使って値を追加する</h2>\n<p>次はショートコードに値（引数）を追加する方法です。</p>\n<p>現在は<code class=\"language-text\">extract</code>を使う方法は推奨されてません。</p>\n<p>先ほどのバナーのショートコードを改造してみます。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">banner</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$atts</span> <span class=\"token operator\">=</span> <span class=\"token function\">shortcode_atts</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n      <span class=\"token comment\">//取得したい値のキー</span>\n      <span class=\"token string single-quoted-string\">'page'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string single-quoted-string\">'src'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'banner'</span><span class=\"token comment\">//ショートコード名</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//同じサイト内のスラッグなど</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;a href=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'/'</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;img src=\"'</span> <span class=\"token operator\">.</span> <span class=\"token function\">esc_url</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'src'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'\" alt=\"キャンペーンバナー\" width=\"700\" heigth=\"250\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;/a>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$banner</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$banner</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'banner'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'banner'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>これで画像とリンク先を差し替えることができるようになります。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">[banner page=\"campaign2\" src=\"https://hogehoge.com/images/banner.png\"]</code></pre></div>\n<h2 id=\"ショートコード内に文を入れる\">ショートコード内に文を入れる</h2>\n<p>ショートとタグの中に文も追加できます。</p>\n<p>カンタンなものでこんな装飾もできますし、吹き出し装飾なんかも作れます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/4b190/entry211-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.571428571428573%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG6AD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAWEAADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAT8hKv/aAAwDAQACAAMAAAAQeC//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAAAARExYXHB/9oACAEBAAE/EFc9NENzg//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/c54d4/entry211-1.webp 175w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/a3432/entry211-1.webp 350w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/426ac/entry211-1.webp 700w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/d00b9/entry211-1.webp 800w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/e52aa/entry211-1.jpg 175w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/70ebb/entry211-1.jpg 350w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/29d31/entry211-1.jpg 700w,\n/static/2459dcfdfd6c00e865ef437bf7138ef9/4b190/entry211-1.jpg 800w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2459dcfdfd6c00e865ef437bf7138ef9/29d31/entry211-1.jpg\"\n            alt=\"実装例\"\n            title=\"実装例\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">box</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$atts</span> <span class=\"token operator\">=</span> <span class=\"token function\">shortcode_atts</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n      <span class=\"token comment\">//取得したい値のキー</span>\n      <span class=\"token comment\">//デフォルト値を入れておいてあげても○</span>\n      <span class=\"token string single-quoted-string\">'label'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'box'</span><span class=\"token comment\">//ショートコード名</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'&lt;div class=\"box\">'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;h2>'</span><span class=\"token operator\">.</span> <span class=\"token function\">esc_html</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">[</span> <span class=\"token string single-quoted-string\">'label'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'&lt;/h2>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//同じサイト内のスラッグなど</span>\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">.=</span> <span class=\"token variable\">$content</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$box</span> <span class=\"token operator\">.=</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$box</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_shortcode</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'box'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'box'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">[box label=\"ポイント\"]ここに文章が入ります[/box]</code></pre></div>\n<h3 id=\"コンテンツだけ追加したいとき\">コンテンツだけ追加したいとき</h3>\n<p>コンテンツだけ追加したいときは、第一引数を<code class=\"language-text\">null</code>か<code class=\"language-text\">''</code>あたりにしておきます。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">box</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string single-quoted-string\">'&lt;div>'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$content</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'&lt;/div>'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ショートコードの入れ子\">ショートコードの入れ子</h2>\n<p>ショートコードは装飾にめっちゃ便利ですが、入れ子にしたいこともあります。</p>\n<p>そんなときは<code class=\"language-text\">shortcode_unautop</code>と<code class=\"language-text\">do_shortcode</code>を使います。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">box</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$atts</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$content</span> <span class=\"token operator\">=</span> <span class=\"token function\">do_shortcode</span><span class=\"token punctuation\">(</span> <span class=\"token function\">shortcode_unautop</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//省略</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$box</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>先ほど作ったショートコードを例にとると、装飾の中にショートコードを含めることができるようになります。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">[box label=\"ポイント\"]\nただいまキャンペーン中です。\n[banner]\n[/box]</code></pre></div>\n<h2 id=\"そのほか、ショートコードで便利なtips\">そのほか、ショートコードで便利なTips</h2>\n<p>そのほかショートコードで便利な方法がいくつかあるので、まとめておきます。</p>\n<h3 id=\"テンプレート内（phpファイル内）で呼び出す\">テンプレート内（phpファイル内）で呼び出す</h3>\n<p>テンプレート内では<code class=\"language-text\">do_shortcode</code>関数を使って呼び出します。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">echo</span> <span class=\"token function\">do_shortcode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'[box]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"ショートコードを取り除く\">ショートコードを取り除く</h3>\n<p>逆にサイトの説明などにショートコードが抜き出しで出てしまうことがあります。そんなときは<code class=\"language-text\">strip_shortcodes</code>でショートコードが取り除けます。</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token function\">strip_shortcodes</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$content</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"まとめ\">まとめ</h2>\n<p>ショートコードはうまく使うと超便利！装飾の幅も広がり記事やページがめっちゃ華やかになります。</p>\n<p>ただ、テーマの乗り換えをするときに使えないショートコードなども出てきた後々大変にはなることもありますので、メンテナンス性を考えて、うまく利用しましょう！</p>\n<p>皆さんのコーディングライフの一助となれば幸いです。</p>\n<p>今回も最後までお読みいただきありがとうございました。</p>","tableOfContents":"<ul>\n<li>\n<ul>\n<li><a href=\"#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E5%AF%BE%E8%B1%A1\">この記事の対象</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E4%BD%9C%E3%82%8A%E6%96%B9\">ショートコードの作り方</a></p>\n<ul>\n<li><a href=\"#%E3%83%98%E3%83%93%E3%83%BC%E3%81%AB%E4%BD%BF%E3%81%86%E3%83%90%E3%83%8A%E3%83%BC%E3%82%92%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A8%E3%81%97%E3%81%A6%E7%99%BB%E9%8C%B2%E3%81%97%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99\">ヘビーに使うバナーをショートコードとして登録し呼び出す</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AB%E5%BC%95%E6%95%B0%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E5%80%A4%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B\">ショートコードに引数を使って値を追加する</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E5%86%85%E3%81%AB%E6%96%87%E3%82%92%E5%85%A5%E3%82%8C%E3%82%8B\">ショートコード内に文を入れる</a></p>\n<ul>\n<li><a href=\"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%81%A0%E3%81%91%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%81%84%E3%81%A8%E3%81%8D\">コンテンツだけ追加したいとき</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%85%A5%E3%82%8C%E5%AD%90\">ショートコードの入れ子</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%81%9D%E3%81%AE%E3%81%BB%E3%81%8B%E3%80%81%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A7%E4%BE%BF%E5%88%A9%E3%81%AAtips\">そのほか、ショートコードで便利なTips</a></p>\n<ul>\n<li><a href=\"#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E5%86%85%EF%BC%88php%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%86%85%EF%BC%89%E3%81%A7%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99\">テンプレート内（phpファイル内）で呼び出す</a></li>\n<li><a href=\"#%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E5%8F%96%E3%82%8A%E9%99%A4%E3%81%8F\">ショートコードを取り除く</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></p>\n</li>\n</ul>","frontmatter":{"title":"WordPressに独自ショートコードを実装する【サンプルコード付き】","date":"2014.12.21","description":"WordPressのショートコードの実装の仕方をご紹介します！！単純なものから値を付与したり複雑なもの、ショートコードの入れ子の仕方も解説します。サンプルコードつき。※ この記事は2021年6月に大幅メンテナンスしました。","lead":["WordPressのショートコードの実装の仕方をご紹介します！！","単純なものから値を付与したり複雑なもの、ショートコードの入れ子の仕方も解説します。サンプルコードつき。","※ この記事は2021年6月に大幅メンテナンスしました。"],"hero":"2014/entry211.jpg","cateId":"cms","tags":["WordPress"],"pagetype":"blog","modifieddate":"2021.06.06"}},"previous":{"fields":{"slug":"/blogs/entry208/"},"frontmatter":{"title":"鬼のPHP合宿に参加しました"}},"next":{"fields":{"slug":"/blogs/entry212/"},"frontmatter":{"title":"カラオケでうろ覚えで歌って90点以上とる方法"}}},"pageContext":{"id":"aee7a1cb-ee97-5b25-aa7a-476da7ffd27f","previousPostId":"3cfe63d0-f4a0-51bd-a6b7-e5b7b4464e38","nextPostId":"ffc67625-2be0-5313-b022-0b06f1352107","hero":"2014/entry211.jpg"}},"staticQueryHashes":["1145805751","2829560153","3000541721","3766793980"]}