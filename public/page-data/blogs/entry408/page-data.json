{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogs/entry408/","result":{"data":{"site":{"siteMetadata":{"title":"銀ねこアトリエ"}},"allFile":{"edges":[{"node":{"name":"entry401","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8e8d8","images":{"fallback":{"src":"/static/206512c4ac54a09bce7ea7c2b867aeaa/018b3/entry401.jpg","srcSet":"/static/206512c4ac54a09bce7ea7c2b867aeaa/15952/entry401.jpg 375w,\n/static/206512c4ac54a09bce7ea7c2b867aeaa/018b3/entry401.jpg 640w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/206512c4ac54a09bce7ea7c2b867aeaa/fd9fd/entry401.webp 375w,\n/static/206512c4ac54a09bce7ea7c2b867aeaa/66a24/entry401.webp 640w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":480}}}}]},"markdownRemark":{"id":"ce72703a-ffeb-5559-8875-8354970c5340","excerpt":"今までのGatsbyの記事と注意点 現在ここまで記載しています。制作するまでを目標にUPしていくので順を追ったらGatsbyサイトが作れると思います。 インストールからNetlify…","html":"<h2 id=\"今までのgatsbyの記事と注意点\">今までのGatsbyの記事と注意点</h2>\n<p>現在ここまで記載しています。<br>制作するまでを目標にUPしていくので順を追ったらGatsbyサイトが作れると思います。</p>\n<ol>\n<li><a href=\"/blogs/entry401/\">インストールからNetlifyデプロイまで</a></li>\n<li><a href=\"/blogs/entry406/\">投稿ページの充実と画像の方法</a></li>\n<li>ブログ記事、カテゴリー、タグ一覧の出力（←イマココ）</li>\n<li><a href=\"/blogs/entry410/\">プラグインを利用して目次出力</a></li>\n<li><a href=\"/blogs/entry413/\">プラグインナシで一覧にページネーション実装</a></li>\n<li><a href=\"/blogs/entry416/\">個別ページテンプレート作成</a></li>\n<li><a href=\"/blogs/entry418/\">プラグインHelmetでSEO調整</a></li>\n<li><a href=\"/blogs/entry421/\">CSSコンポーネントでオリジナルページを作ろう！！</a></li>\n<li><a href=\"/blogs/entry430/\">関連記事一覧出力</a></li>\n</ol>\n<h3 id=\"このシリーズではテーマgatsby-starter-blogを改造\">このシリーズではテーマGatsby Starter Blogを改造</h3>\n<p>この記事は一番メジャーなテンプレート、 Gatsby Starter Blogを改造しています。同じテーマでないと動かない可能性があります。</p>\n<h2 id=\"srcpageディレクトリーにあるindexjsを複製\">src/pageディレクトリーにあるindex.jsを複製</h2>\n<p>Gatsby Starter Blogでは、一覧などのテンプレートはsrc/templates内に収められています。<br>\nまずは、以下にblogs.jsという名前で格納します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">src/\n    ├ pages/\n    |   ├ index.js （これをコピー）\n    |   └ 404.js\n    ├ templates/\n    |   ├ blog-post.js\n    |   └ blogs.js（ここに格納）\n    ├ components/\n    ├ style.css\n    └ normalize.css</code></pre></div>\n<p>変数名を変更しておきます。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  省略\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Blogs</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> location <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  省略\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Blogs\n  省略\n</code></pre></div>\n<h2 id=\"gatsby-nodejsにページを作成するためのコードを書く\">gatsby-node.jsにページを作成するためのコードを書く</h2>\n<p>gatsbyjsは静的ページを生成するので各一覧を生成するためのコードを書きます。</p>\n<p><strong>gatsby-node.js</strong>のexports.createPages内、GraphQLでクエリが実行されすべての記事を取得しています。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Get all markdown blog posts sorted by date</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      {\n        allMarkdownRemark(\n          sort: { fields: [frontmatter___date], order: ASC }\n          limit: 1000\n        ) {\n      totalCount\n      nodes {\n          id\n          fields {\n            slug\n          }\n        }\n      }\n      }\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    reporter<span class=\"token punctuation\">.</span><span class=\"token function\">panicOnBuild</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">There was an error loading your blog posts</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      result<span class=\"token punctuation\">.</span>errors\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes</code></pre></div>\n<p>すべての記事は変数<code class=\"language-text\">posts</code>に格納されています。</p>\n<p>ざっくり何をするかというと、先ほど作ったblogs.jsからクエリを投げて、特定の記事の一覧データを格納し<code class=\"language-text\">createPage()</code>でページを生成します。</p>\n<h2 id=\"ブログ記事の一覧を生成する\">ブログ記事の一覧を生成する</h2>\n<p>この銀ねこアトリエでは、ブログ記事と自己紹介やプライバシーポリシーなどの個別のページの投稿をすべてmdファイルに書いています。</p>\n<p><strong>一覧に個別ページを含めたくない</strong>ので、ページのタイプを追加します。各mdファイルの<strong>fromtmatterにpagetypeを追記</strong>します。</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span>\n<span class=\"token font-matter yaml language-yaml\">title: Webサイトの表示速度を真剣に考える\ndate: 2019-06-21\nhero: entry325.png\npagetype: blog\ndescription: 昔いた会社で、画像の圧縮、CSSなどの外部ファイルを徹底して不要ファイルを削除して圧縮してさらにワンソース化した結果、50位から20位以内に順位が改善したことがあります。今日はWebサイトの軽量化とスピードについて真剣に考えようと思います。</span>\n<span class=\"token punctuation\">---</span></span></code></pre></div>\n<p>gatsby-node.js側です。<br>\nqueryにpagetypeを含めたいのでfrontmatterとpagetypeを追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n  <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: ASC }\n      limit: 1000\n    ) {\n      totalCount\n      nodes {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            pagetype\n          }\n        }\n      }\n   }\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>これでblogs.js側でもpagetypeが取得できるようになりました。</p>\n<p>createPageを実行するテンプレートを追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> blogList <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/blogs.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> <span class=\"token string\">'/blogs/'</span><span class=\"token punctuation\">,</span>\n    component<span class=\"token operator\">:</span> blogList<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"pagetypeがblogの記事のみを取得する\">pagetypeがblogの記事のみを取得する</h2>\n<p>blogs.jsを編集します！</p>\n<p><code class=\"language-text\">allMarkdownRemark</code>にフィルターをかけます。<strong>pagetype</strong>が<strong>blogs</strong>のものだけを絞り込みます！</p>\n<p><code class=\"language-text\">totalCount</code>で現在<strong>blog</strong>の記事数も取得して現在どのくらい記事があるか表示できるようになりました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6a0948207c9250b2cfdcaa1d5b20d462/5a190/entry408-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.9873417721519%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAADM0lEQVQoz33K7U8TdwDA8fsD3N+gb5YsvjIRKC0B3DKyGBcDk2hi5MGQxW2OZXO8kNLrFXmwooUqKOMhSIfTYuggZTCO9oQiqbNtyhVK27tre+21vev9eteHK60J3KLR9/rN5+UXSovFCMOKxTcBMhpL8QfyW7F8JJbkTEkGBzI4OPpAzpSOwMEhKB4C6VAoyYlMOSm+gQYXA4OLwX5r5OZC+LfnZOc8dW2OfM9EdvwZ6JgLdjwh2mf3W2b8rY/9V6Z8rZN4y8ROywR+5Q8vdGnMc37Ue/a+p8Hoqb/jqh101Qz81zH++trEq6Z7LxuHnZfHXjcNO09rHdW6LQXiUCCOSu1mBfyiogeDvrrrqR1wKrSYUocpkRcKGFPAmBLBvuzHGnTo18hajQatUtsru9EK9b+VarRKbavSoFUaVAGvQ+f0jlqtvboHVWlsKs16jdZe17tRjdhrbtnO6NbP6Gx1iF0F21RamwpZUcLLStharVlWaVdU2hWISOXJZJZM5ahUnkzlSbYQSRfDXIFgC+R7EsVJYU6i0hLJ5QkuT/EFMi0RXD7MFaC3Hy9OJ0Uh+4kBynIpes8X3d2J+b3kDk7h/nxGZCki4sOjuJva8YS8Pi4cC7EACxF2grHupbd5aYOOgTQP7S49Mf/aOq/vn+3RG7u62r5p2Fi2OIa6n8GdJkT/V5/+emPT7Rudk5il3vDzcWQI+mGm4tnqqfFhR2APci+Zp25eX5o2PYJNZoNh5MfmV2sWq6Fvfrh/esBkNs6N/vL9c+PvhpHt89/O/tRuuXDp73PNT784ObNgZaDA6gJ2S23WDz1Qq+dvdE1ebA3ZUefYkP3e7ZEe5Kmme/zyVcedgV7d6rHPkPZ6Y2/b1Hdnpz8/od/ejEGFiD+xtSqQe4d8LOxxYZZlEI8CN8Z5ncU4WUpFXv6D+p1Ov58afYh6LGsk5lhc2Jp5vAZABsqKWTrOMEyCTSYTTCIei5fLZSaZCEdjiTiTSiQD+0FBEAp5iQgRLMvzQEynAU0zsvw/xPO82+Vyu1wgkwEACIIgSVIwGOR5HgBA07TP58vlchzH4TjOcVwulxOEDMuysiy/AwSaV2A1EhVKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/6a0948207c9250b2cfdcaa1d5b20d462/81b7c/entry408-1.webp 158w,\n/static/6a0948207c9250b2cfdcaa1d5b20d462/6ea66/entry408-1.webp 315w,\n/static/6a0948207c9250b2cfdcaa1d5b20d462/8aab1/entry408-1.webp 630w,\n/static/6a0948207c9250b2cfdcaa1d5b20d462/d00b9/entry408-1.webp 800w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/6a0948207c9250b2cfdcaa1d5b20d462/c26ae/entry408-1.png 158w,\n/static/6a0948207c9250b2cfdcaa1d5b20d462/6bdcf/entry408-1.png 315w,\n/static/6a0948207c9250b2cfdcaa1d5b20d462/f058b/entry408-1.png 630w,\n/static/6a0948207c9250b2cfdcaa1d5b20d462/5a190/entry408-1.png 800w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/6a0948207c9250b2cfdcaa1d5b20d462/f058b/entry408-1.png\"\n            alt=\"pagetypeがblogの記事のみを取得する\"\n            title=\"pagetypeがblogの記事のみを取得する\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n<span class=\"token keyword\">import</span> Image <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/image\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">blogs</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> location <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"銀ねこアトリエ\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"ブログ一覧\"</span>\n        description<span class=\"token operator\">=</span><span class=\"token string\">\"「銀ねこアトリエ」の最新ブログ一覧です。\"</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__main\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>h1 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__heading\"</span><span class=\"token operator\">></span>最新ブログ一覧<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>現在 <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>totalCount<span class=\"token punctuation\">}</span> 記事あります<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"l-container\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>section <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-section\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>h2 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-heading--lg\"</span><span class=\"token operator\">></span>最新記事<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-grid\"</span><span class=\"token operator\">></span>\n            <span class=\"token punctuation\">{</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n              <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n                <span class=\"token operator\">&lt;</span>article\n                  <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard c-grid__item--md6 c-grid__item--lg4\"</span>\n                  itemScope\n                  itemType<span class=\"token operator\">=</span><span class=\"token string\">\"http://schema.org/Article\"</span>\n                <span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__img\"</span> <span class=\"token operator\">></span>\n                    <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>hero <span class=\"token operator\">?</span>\n\n                      <span class=\"token operator\">&lt;</span>Image filename<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>hero<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                      <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Image filename<span class=\"token operator\">=</span><span class=\"token string\">\"common/dummy.png\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__date\"</span><span class=\"token operator\">></span>\n                      <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__body\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>h3 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__heading\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n              <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> blogs\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query blosQyery {\n      site {\n        siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: {fields: [frontmatter___date], order: DESC }\n      filter: {frontmatter: {pagetype: { eq: \"blog\" } } }\n    )\n    {\n      totalCount\n      nodes {\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n        title\n        date(formatString: \"YYYY.MM.DD\")\n        description\n        hero\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<h2 id=\"カテゴリーを追加する\">カテゴリーを追加する</h2>\n<p>カテゴリーも追加しましょう！！<br>\nfrontmatterにcategory項目を追加します。</p>\n<p>ブログを設計するときに、カテゴリーの数を増やさないって決めていたのでgatby-config.jsの<code class=\"language-text\">siteMetadata</code>にあらかじめ、以下のようにcategoryを追記しておきました。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">銀ねこアトリエ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    author<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">かみーゆ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      summary<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">「銀ねこアトリエ」はセブ島に住むフロントエンドエンジニア</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">「銀ねこアトリエ」はセブ島に住むフロントエンドエンジニアの気ままな日記です。</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    siteUrl<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://ginneko-atelier.com/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    social<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      twitter<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lirioL</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      instagram<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">yurico.k</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'cms'</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">'Contents Management System'</span><span class=\"token punctuation\">,</span>\n        description<span class=\"token operator\">:</span> <span class=\"token string\">'WordPressやconcrete5などCMSの記事'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'web-developer'</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">'Front End'</span><span class=\"token punctuation\">,</span>\n        description<span class=\"token operator\">:</span> <span class=\"token string\">'HTML、CSS、JSなどの書き留めたチップス'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'web-developer'</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">'Back End'</span><span class=\"token punctuation\">,</span>\n        description<span class=\"token operator\">:</span> <span class=\"token string\">'PHP、黒い画面、DBが中心'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'seo'</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">'Seaarch Engine Optimization'</span><span class=\"token punctuation\">,</span>\n        description<span class=\"token operator\">:</span> <span class=\"token string\">'SEOやコンテンツマーケティングに関する記事'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'career'</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">'ITセミナー'</span><span class=\"token punctuation\">,</span>\n        description<span class=\"token operator\">:</span> <span class=\"token string\">'勉強会の開催/登壇について書いてます'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'ginneko-tsuredure'</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">'Life Hack'</span><span class=\"token punctuation\">,</span>\n        description<span class=\"token operator\">:</span> <span class=\"token string\">'思ったことを気ままに書いてます'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>IDのみ追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\ntitle: Webサイトの表示速度を真剣に考える\ndate: 2019-06-21\nhero: entry325.png\npagetype: blog\ncateId: seo\ndescription: 昔いた会社で、画像の圧縮、CSSなどの外部ファイルを徹底して不要ファイルを削除して圧縮してさらにワンソース化した結果、50位から20位以内に順位が改善したことがあります。今日はWebサイトの軽量化とスピードについて真剣に考えようと思います。\n---</code></pre></div>\n<p>blogs.jsをsrc/templates/内に複製し、category.jsを作成します。</p>\n<p>gatsby-node.jsのクエリに<code class=\"language-text\">cateId</code>を追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n  <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: ASC }\n      limit: 1000\n    ) {\n      totalCount\n      nodes {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            pagetype\n            cateId\n          }\n        }\n      }\n   }\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>category.jsをテンプレートとしたすべての記事からcateIdを絞り込んでページを生成します。\npostからカテゴリーのIDを抽出して重複を削除し、各ページを生成します。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> categoyTemplate <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/category.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> categories <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> cates <span class=\"token operator\">=</span> posts<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cates<span class=\"token punctuation\">,</span> edge</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> edgeCates <span class=\"token operator\">=</span> edge<span class=\"token punctuation\">[</span><span class=\"token string\">'frontmatter'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'cateId'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> edgeCates <span class=\"token operator\">?</span> cates<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>edgeCates<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> cates<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> cates<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> key <span class=\"token operator\">=</span> cates<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    categories<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>categories<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> categories<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>cate <span class=\"token keyword\">in</span> categories<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> cateSlug <span class=\"token operator\">=</span> cate\n\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">blogs/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cate<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      component<span class=\"token operator\">:</span> categoyTemplate<span class=\"token punctuation\">,</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        cateSlug\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">cateSlug</code>（カテゴリーID）はcreatePageの<code class=\"language-text\">context</code>に格納され、引数<code class=\"language-text\">pageContext</code>で取得できます。</p>\n<p><code class=\"language-text\">import { siteMetadata } from \"../../gatsby-config\"</code>であらかじめgatsby-config.jsに設定したカテゴリーのslug、name、descriptionを取得し、<code class=\"language-text\">cateSlug</code>と一致するデータのみを使用します。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/508d16d629f76f10b641e1996ed96d02/dc616/entry408-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADYElEQVQ4y42R7U9bBRjF71+xzQ/OGYTJEIGAZQyWkjJHB9KxlJchhA0GAjLmBBV5yZDQbDFDXbaRzS+TL8ZEjSbLssTFaCIDKQLSAn2BAr29pbS9bWkvbdkY8DP2L9iTnJyTJyfPc5IjvFPUiUrTyWm9gVeO1vBq6vscTqvjQJKeI8dqOZrVSFJGA6+n1/NmdiMntZ9TVnkdbaWBN3JaUZ3uprblLpWNtyjVDyJodNfI13aTktPM4bRaCks+pqD4CgXFlykq+xRdVT+lFX2UVfZx7vwANY1f0vLRHTr7v6OovI9jxzs4Vz9MbcsIupobCA1XHlB9aYTX3qonLa+d5OwmDiZXcSilgsz8ZrLyW8lVt6NSt5Or6UBXM8h7VYPUtd6j4EwfSW83Uai7Rv2H99HqDQiZJztIy23jRHEPFzoekKW+yqGUag6mVJCa00C6qpnk7EukqprJyGvl3fIBNGcHqGu7j652mCMZjRRoe6hrG6GkwoBgW3JhtYuI7gBOl8yizYnF5kywbVnCtiRhsYtY7S6WHW4cKxusiX5Etx9R8mNdEnGsrie00+VH4CVGknxsbiovY0WYt1n4a2Kcv2f+SWBiyohxeppAKERQiaJEIoQkEb8kEg74eR6PE38RJx58SjwyRSw0TjRsZCsyRfxZEOF81wek5GVyvPQU2WcKUWnUZOarmJyeIeRxEpz+HWVhnKDThiJ72NuDkPdnPIutuKw32XAM41v4CunfXiLubxEu9F7mVHUZVz/roru3h3L9WdQlmkRqq8WC3TqPZU1k2SsTiEbZBbZ8P7C2/CM//fIbDx89YeHpHJOjDWws3UXQdzVxQJOGSp3HxYtNHD2hJTkrnYnJCda9Mlb7CvOmBcbGJzHOzbGp7BJaHyUg/sri4ipmk4mHTx7TP5TK3EQPwr3vR/nk1hADNw3cuP0117+5zReGIVxuF/t7e8QUhRfb28SUKIFgEFkOEw4a8brHcEurRCMSMzYLdx79ydj0HwjhcBjZLxP8v4RgkEBARlEUdnZ28Hq9yLJMRFFQlK3EfvvZdoJFcYWAfw1ZlgjKEvvPw7C/g+Dz+ZAkKQGHw4Hdbk8cisViWCwWjEYjJpMJs9nM7Oxs4oHH42FmZgazeQGXy419aZnQZoTd3T3+A5IYBX8ddkHoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/508d16d629f76f10b641e1996ed96d02/81b7c/entry408-2.webp 158w,\n/static/508d16d629f76f10b641e1996ed96d02/6ea66/entry408-2.webp 315w,\n/static/508d16d629f76f10b641e1996ed96d02/8aab1/entry408-2.webp 630w,\n/static/508d16d629f76f10b641e1996ed96d02/5431c/entry408-2.webp 933w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/508d16d629f76f10b641e1996ed96d02/c26ae/entry408-2.png 158w,\n/static/508d16d629f76f10b641e1996ed96d02/6bdcf/entry408-2.png 315w,\n/static/508d16d629f76f10b641e1996ed96d02/f058b/entry408-2.png 630w,\n/static/508d16d629f76f10b641e1996ed96d02/dc616/entry408-2.png 933w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/508d16d629f76f10b641e1996ed96d02/f058b/entry408-2.png\"\n            alt=\"カテゴリー一覧の取得\"\n            title=\"カテゴリー一覧の取得\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n\n<span class=\"token comment\">// Components</span>\n<span class=\"token keyword\">import</span> Image <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/image\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> siteMetadata <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../gatsby-config\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">category</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> pageContext<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> location <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> cateSlug <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pageContext\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> edges<span class=\"token punctuation\">,</span> totalCount <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark\n\n  <span class=\"token comment\">// console.log(siteMetadata.category)</span>\n  <span class=\"token keyword\">let</span> cateName <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n  <span class=\"token keyword\">let</span> cateDescription <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n  siteMetadata<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">cate</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cate<span class=\"token punctuation\">.</span>slug <span class=\"token operator\">===</span> cateSlug<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        cateDescription <span class=\"token operator\">=</span> cate<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">;</span>\n        cateName <span class=\"token operator\">=</span> cate<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteMetadata<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span>\n        title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cateName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n        description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>cateDescription<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>main<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__main\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>h1 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__heading\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>cateName<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>cateDescription<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cateSlug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.jpg</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__img\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Image<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"page-template-archive\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"l-container\"</span><span class=\"token operator\">></span>\n            <span class=\"token punctuation\">{</span>totalCount <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>p <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-txt-center\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span>に関する記事はまだありません<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span>section <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-section\"</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>h2 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-heading--lg\"</span><span class=\"token operator\">></span>最新記事<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-grid\"</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span>edges<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> slug <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>fields\n                  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> hero<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> tags <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>frontmatter\n                  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n                    <span class=\"token operator\">&lt;</span>article\n                      <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard c-grid__item--md6 c-grid__item--lg4\"</span>\n                      itemScope\n                      itemType<span class=\"token operator\">=</span><span class=\"token string\">\"http://schema.org/Article\"</span>\n                      key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__img\"</span> <span class=\"token operator\">></span>\n                        <span class=\"token punctuation\">{</span>hero <span class=\"token operator\">?</span>\n\n                          <span class=\"token operator\">&lt;</span>Image filename<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>hero<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                          <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Image filename<span class=\"token operator\">=</span><span class=\"token string\">\"common/dummy.png\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                        <span class=\"token punctuation\">}</span>\n                        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__date\"</span><span class=\"token operator\">></span>\n                          <span class=\"token punctuation\">{</span>date<span class=\"token punctuation\">}</span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__body\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>h3 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__heading\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n                  <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>main<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ncategory<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  pageContext<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  data<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    allMarkdownRemark<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      totalCount<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n      edges<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span>\n        PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          node<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            frontmatter<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              title<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            fields<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              slug<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isRequired\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> category\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query(\n    $cateSlug: String\n  ) {\n    allMarkdownRemark(\n      sort: {fields: [frontmatter___date], order: DESC }\n      filter: {frontmatter: {cateId: { eq: $cateSlug } } }\n    )\n    {\n      totalCount\n      edges {\n        node {\n          fields {\n          slug\n        }\n        frontmatter {\n          title\n          date(formatString: \"YYYY.MM.DD\")\n          hero\n        }\n      }\n    }\n  }\n}\n</span><span class=\"token template-punctuation string\">`</span></span>\n</code></pre></div>\n<h2 id=\"タグを追加する\">タグを追加する</h2>\n<p>この銀ねこアトリエではタグは複数設定OKなので以下のように追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span>\n<span class=\"token font-matter yaml language-yaml\">title: Webサイトの表示速度を真剣に考える\ndate: 2019-06-21\nhero: entry325.png\npagetype: blog\ncateId: tags: [表示速度,SEOコーディング]\ndescription: 昔いた会社で、画像の圧縮、CSSなどの外部ファイルを徹底して不要ファイルを削除して圧縮してさらにワンソース化した結果、50位から20位以内に順位が改善したことがあります。今日はWebサイトの軽量化とスピードについて真剣に考えようと思います。</span>\n<span class=\"token punctuation\">---</span></span></code></pre></div>\n<p>gatsby-node.js側のqueryにtagsを追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n  <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: ASC }\n      limit: 1000\n    ) {\n      totalCount\n      nodes {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            pagetype\n            cateId\n            tags\n          }\n        }\n      }\n   }\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>カテゴリー同様すべてのブログ記事一覧を表示させるためのblogs.jsを複製しtags.jsをテンプレートとして使用します。</p>\n<p>カテゴリー同様、すべての記事からtagsを取得し、重複を削除してタグごとのページを表示しています。<br>\nタグはたくさん増えると判断し、スラッグの管理はしないことにしました。</p>\n<p>どのタグの記事が何件あるかは表示したかったので、カテゴリーで説明のところに表示されていた文章を以下のようにしました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0646029333fe78daeb86d852edece7ed/146da/entry408-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACzklEQVQ4y42Sy08bVxSH/Y+l5LFKhJTQRQIBqiQNVRZVpEqtVKlS8wAWpCywHVehQFPRLKJUVaVuumxqYhLwA/OQQ+yxYbA99ozn4dfgGY/NF83UQqFAlZE+3Xvn/M5vzjlzffdepPj+RZrvfsvy1fMd7jwT+HxR4NbTDDcW0tyYy3Bz4S2jC9uM/ZphZC7FZ/NbjMynuBLcZMC/zsBMkis9fGM/v2V0PsXgk02uzW7waXCdq8F1vvgpwe3ZOHefrvHNLzG+nIvz9WKS209ifLsYY2w2zsVHUfp/iNI/HeXS1AoXp1bwDQQ2uDSd4PzEMhcmI1yYXPb258Yj9I1H+GQywuWpMP0Tf3Pmfpgz95d6vOTsw5f0PVii72GYc+P/cH4ijO/OXILhwCrXZt4w5F9l0L/C9cAqo6EEw6EYV0NRhkNRRh67xBgORr349eBrhgKvGAqEGfQvMRSIePhqZpvGfptmy8X5YO1hOVSbloe7Ny3nyLpvu3S8s4uPj3iK+TI72b2PkeLTNI1CPo+iKNRqNdxzvVanXq9TkiQkqYimahiaTrVaxTAMbNv2kg8ODo7h283lWHm9TC4rYGgKilwmEYuRFTJsJNdIJhJIxTxVXUXc3fG0jUbj0PCEClXvq3/9+Qeh6Ql+f/4MRZbRVBVdUykW8iz8OMOs/xFvll9RUWRsyzrdUFUrnkjMvuPdZpztrSQ5QfDalctltIrC9mac9NYame0UQjpNq9U63dCdVblUOhR1Oh32RNGrUK1U0HUdx+l4MbfV3Z3ckRkeMzQMHUEQkCSJZqNBs9nwEk3T9H6QKIpIxSKKIiPLCkqlcmh0omG11mRXLJIvyOhGE90wsSwbx3HIF8qIeyUqap1qzcS2La+T/zV0Ol3sdhfL7mK22pj77Z4YNKNFoVRHVps4TvdI4klmnmEv/J/X/94pd3Yty6HT6R67d6dV+B7MlyRIUKVpkgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0646029333fe78daeb86d852edece7ed/81b7c/entry408-3.webp 158w,\n/static/0646029333fe78daeb86d852edece7ed/6ea66/entry408-3.webp 315w,\n/static/0646029333fe78daeb86d852edece7ed/8aab1/entry408-3.webp 630w,\n/static/0646029333fe78daeb86d852edece7ed/18615/entry408-3.webp 943w\"\n              sizes=\"(max-width: 630px) 100vw, 630px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0646029333fe78daeb86d852edece7ed/c26ae/entry408-3.png 158w,\n/static/0646029333fe78daeb86d852edece7ed/6bdcf/entry408-3.png 315w,\n/static/0646029333fe78daeb86d852edece7ed/f058b/entry408-3.png 630w,\n/static/0646029333fe78daeb86d852edece7ed/146da/entry408-3.png 943w\"\n            sizes=\"(max-width: 630px) 100vw, 630px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0646029333fe78daeb86d852edece7ed/f058b/entry408-3.png\"\n            alt=\"タグの一覧の取得\"\n            title=\"タグの一覧の取得\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>gatsby-node.js側にタグのページを生成するためのコードを追記します。</p>\n<p>ポイントはテンプレート側クエリのフィルターが配列なので<code class=\"language-text\">filter: {frontmatter: {tags: { in: [$tag] } } }</code>となっています。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token comment\">//タグを取得</span>\n  <span class=\"token keyword\">let</span> tags <span class=\"token operator\">=</span> posts<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tags<span class=\"token punctuation\">,</span> edge</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> edgeTags <span class=\"token operator\">=</span> edge<span class=\"token punctuation\">[</span><span class=\"token string\">'frontmatter'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'tags'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> edgeTags <span class=\"token operator\">?</span> tags<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>edgeTags<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> tags<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> counts <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> tags<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> key <span class=\"token operator\">=</span> tags<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    counts<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>counts<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> counts<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  tags <span class=\"token operator\">=</span> counts\n\n  <span class=\"token comment\">//タグページを作成</span>\n  <span class=\"token keyword\">const</span> tagTemplate <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/tags.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> tag <span class=\"token keyword\">in</span> tags<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n      <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">blogs/tags/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tag<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        component<span class=\"token operator\">:</span> tagTemplate<span class=\"token punctuation\">,</span>\n        context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          tag<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// console.log(tag, tags[tag])</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n\n<span class=\"token comment\">// Components</span>\n<span class=\"token keyword\">import</span> Image <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/image\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n<span class=\"token keyword\">import</span> TagList <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/common/tagsArchive\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> siteMetadata <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../gatsby-config\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Tags</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> pageContext<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> location <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> tag <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pageContext\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> edges<span class=\"token punctuation\">,</span> totalCount <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteMetadata<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span>\n        title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tag<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">に関する記事一覧</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n        description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteMetadata<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>main<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"page-template-archive\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__main\"</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>h1 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__heading\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>tag<span class=\"token punctuation\">}</span>に関する記事<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>totalCount<span class=\"token punctuation\">}</span>記事あります<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>img <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-pageHeader__img\"</span> src<span class=\"token operator\">=</span><span class=\"token string\">\"https://ginneko-atelier.com/packages/newginneko/themes/newginneko/assets/images/common/ganre-common.jpg\"</span> alt<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>img<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"l-container\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>section <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-section\"</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>h2 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-heading--lg\"</span><span class=\"token operator\">></span>最新記事<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-grid\"</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span>edges<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> slug <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>fields\n                  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> hero<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> tags <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>frontmatter\n                  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n                    <span class=\"token operator\">&lt;</span>article\n                      <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard c-grid__item--md6 c-grid__item--lg4\"</span>\n                      itemScope\n                      itemType<span class=\"token operator\">=</span><span class=\"token string\">\"http://schema.org/Article\"</span>\n                      key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__img\"</span> <span class=\"token operator\">></span>\n                        <span class=\"token punctuation\">{</span>hero <span class=\"token operator\">?</span>\n                          <span class=\"token operator\">&lt;</span>Image filename<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>hero<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                          <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Image filename<span class=\"token operator\">=</span><span class=\"token string\">\"common/dummy.png\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                        <span class=\"token punctuation\">}</span>\n                        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__date\"</span><span class=\"token operator\">></span>\n                          <span class=\"token punctuation\">{</span>date<span class=\"token punctuation\">}</span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__body\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>h3 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__heading\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__footer\"</span><span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-entryCard__footer\"</span><span class=\"token operator\">></span>\n                          <span class=\"token operator\">&lt;</span>TagList tags<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n                  <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>main<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\nTags<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  pageContext<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    tag<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  data<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    allMarkdownRemark<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      totalCount<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n      edges<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span>\n        PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          node<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            frontmatter<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              title<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            fields<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              slug<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isRequired\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Tags\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query(\n    $tag: String\n  ) {\n    allMarkdownRemark(\n      limit: $limit\n      skip: $skip\n      sort: {fields: [frontmatter___date], order: DESC }\n      filter: {frontmatter: {tags: { in: [$tag] } } }\n    ) {\n      totalCount\n      edges {\n        node {\n        fields {\n          slug\n        }\n        frontmatter {\n          title\n          date(formatString: \"YYYY.MM.DD\")\n          hero\n          tags\n        }\n      }\n    }\n  }\n}\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<h2 id=\"まとめ\">まとめ</h2>\n<p>これですべてのブログ記事、カテゴリー、タグの一覧が取得できるようになったと思います！</p>\n<p>2020年前半までのGatsby関連の記事をググると最新のテンプレートに即しているものが少なく、手探りでなんとか一覧を表示できるようなりました。</p>\n<p>駆け出しエンジニアにはキツイと思います^ ^</p>\n<p>まだまだコードがモダンじゃないのでテコ入れしてこの記事もブラッシュアップしアップデートします！<br>生暖かい目で見守ってください。</p>\n<p>この記事がみなさんのコーディングライフの一助となれば幸いです。</p>\n<p>最後までお読みいただきありがとうございました！</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AEgatsby%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E6%B3%A8%E6%84%8F%E7%82%B9\">今までのGatsbyの記事と注意点</a></p>\n<ul>\n<li><a href=\"#%E3%81%93%E3%81%AE%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%E3%81%A7%E3%81%AF%E3%83%86%E3%83%BC%E3%83%9Egatsby-starter-blog%E3%82%92%E6%94%B9%E9%80%A0\">このシリーズではテーマGatsby Starter Blogを改造</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#srcpage%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%83%BC%E3%81%AB%E3%81%82%E3%82%8Bindexjs%E3%82%92%E8%A4%87%E8%A3%BD\">src/pageディレクトリーにあるindex.jsを複製</a></p>\n</li>\n<li>\n<p><a href=\"#gatsby-nodejs%E3%81%AB%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%8F\">gatsby-node.jsにページを作成するためのコードを書く</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E8%A8%98%E4%BA%8B%E3%81%AE%E4%B8%80%E8%A6%A7%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\">ブログ記事の一覧を生成する</a></p>\n</li>\n<li>\n<p><a href=\"#pagetype%E3%81%8Cblog%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E3%81%BF%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\">pagetypeがblogの記事のみを取得する</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA%E3%83%BC%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B\">カテゴリーを追加する</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%82%BF%E3%82%B0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B\">タグを追加する</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></p>\n</li>\n</ul>","frontmatter":{"title":"Gatsbyブログサイト移行物語3~ブログ記事、カテゴリー、タグ一覧の出力~","date":"2020.12.03","description":"gatsbyのブログ用記事を抽出し一覧を作りました。カテゴリー、タグ一覧もぞれぞれ用意したのでだいぶ使い勝手がよくなりました。今回はそれぞれの一覧の出力の仕方についてまとめます。","lead":["gatsbyのブログ用記事を抽出し一覧を作りました。カテゴリー、タグ一覧もぞれぞれ用意したのでだいぶ使い勝手がよくなりました。今回はそれぞれの一覧の出力の仕方についてまとめます。","※ Mac以外では検証してません。ご了承ください。"],"hero":"2020/entry401.jpg","cateId":"web-developer","tags":["JavaScript","React","Gatsby"],"pagetype":"blog","modifieddate":null}},"previous":{"fields":{"slug":"/blogs/entry407/"},"frontmatter":{"title":"クリスマスが近いので、ブログ執筆を恋の告白に例えてみた"}},"next":{"fields":{"slug":"/blogs/entry409/"},"frontmatter":{"title":"元エンジニア講師が語る！スクールに通ったところでプログラマーにはなれません"}}},"pageContext":{"id":"ce72703a-ffeb-5559-8875-8354970c5340","previousPostId":"25e47027-17e2-513b-bb12-8a8c51bd4b34","nextPostId":"67b5ba42-8381-5e80-9bef-daf228673015","hero":"2020/entry401.jpg"}},"staticQueryHashes":["1145805751","2829560153","3000541721","3766793980"]}