{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogs/entry416/","result":{"data":{"site":{"siteMetadata":{"title":"銀ねこアトリエ"}},"allFile":{"edges":[{"node":{"name":"entry401","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8e8d8","images":{"fallback":{"src":"/static/206512c4ac54a09bce7ea7c2b867aeaa/018b3/entry401.jpg","srcSet":"/static/206512c4ac54a09bce7ea7c2b867aeaa/e23da/entry401.jpg 350w,\n/static/206512c4ac54a09bce7ea7c2b867aeaa/018b3/entry401.jpg 640w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/206512c4ac54a09bce7ea7c2b867aeaa/4c075/entry401.webp 350w,\n/static/206512c4ac54a09bce7ea7c2b867aeaa/66a24/entry401.webp 640w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":480}}}}]},"markdownRemark":{"id":"c3cf27f0-5951-5818-b8e0-3bef0c1cbb3c","excerpt":"今までのGatsbyの記事と注意点 現在ここまで記載しています。制作するまでを目標にUPしていくので順を追ったらGatsbyサイトが作れると思います。 インストールからNetlify…","html":"<h2 id=\"今までのgatsbyの記事と注意点\">今までのGatsbyの記事と注意点</h2>\n<p>現在ここまで記載しています。<br>制作するまでを目標にUPしていくので順を追ったらGatsbyサイトが作れると思います。</p>\n<ol>\n<li><a href=\"/blogs/entry401/\">インストールからNetlifyデプロイまで</a></li>\n<li><a href=\"/blogs/entry406/\">投稿ページの充実と画像の方法</a></li>\n<li><a href=\"/blogs/entry408/\">ブログ記事、カテゴリー、タグ一覧の出力</a></li>\n<li><a href=\"/blogs/entry410/\">プラグインを利用して目次出力</a></li>\n<li><a href=\"/blogs/entry413/\">プラグインナシで一覧にページネーション実装</a></li>\n<li>個別ページテンプレート作成（←イマココ）</li>\n<li><a href=\"/blogs/entry418/\">プラグインHelmetでSEO調整</a></li>\n<li><a href=\"/blogs/entry421/\">CSSコンポーネントでオリジナルページを作ろう！！</a></li>\n<li><a href=\"/blogs/entry430/\">関連記事一覧出力</a></li>\n</ol>\n<h3 id=\"このシリーズではテーマgatsby-starter-blogを改造\">このシリーズではテーマGatsby Starter Blogを改造</h3>\n<p>この記事は一番メジャーなテンプレート、「<em>Gatsby Starter Blog</em>」を改造しています。同じテーマでないと動かない可能性があります。</p>\n<h2 id=\"個別ページテンプレートの作り方\">個別ページテンプレートの作り方</h2>\n<p>ポイントはループに含めないという点だけです。今回はブログ詳細一覧をコピーしてテンプレートを作成しました。</p>\n<p>ファイル名をpages.jsとしておきます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/ (プロジェクトディレクトリー)\n    ├ gatsby-node.js（ページを生成するところ）\n    ├ src/\n    |    └ templates/\n    |       └ pages.js（個別ページを出力するテンプレート）\n    └ content/\n\t   ├ blogs/\n\t   ├ assets/\n\t   |  └ images/common/（個別ページの画像ファイルなどはすべてここに格納）\n       └ about.md (個別のページ)</code></pre></div>\n<h2 id=\"createpageで個別ページを生成する\">createPageで個別ページを生成する</h2>\n<p>gatsby-node.jsにページを生成するためのコードを追記しておきます。<br>\n<code class=\"language-text\">createPage()</code>関数でページは生成されます。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ~ 省略 ~</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> reporter <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token keyword\">const</span> pagePost <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/pages.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// ~ 省略 ~</span>\n\n    <span class=\"token comment\">// pagetypeがpageのみ取得</span>\n    posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>pagetype <span class=\"token operator\">===</span> <span class=\"token string\">'page'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          path<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n          component<span class=\"token operator\">:</span> pagePost<span class=\"token punctuation\">,</span>\n          context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            id<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// ~ 省略 ~</span>\n\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"個別ページを出力するテンプレートpagesjsの編集\">個別ページを出力するテンプレートpages.jsの編集</h3>\n<p>記事のIDが一致するものを出力するように設定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">PagePostTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> location <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> post <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>markdownRemark\n  <span class=\"token keyword\">const</span> siteTitle <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token operator\">?.</span>title <span class=\"token operator\">||</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Title</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token comment\">// アイキャッチのパスを取得</span>\n  <span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allFile<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> data<span class=\"token punctuation\">.</span>allFile<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">.</span>src <span class=\"token operator\">:</span> <span class=\"token string\">''</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span>\n        title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n        description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>description <span class=\"token operator\">||</span> post<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"l-main_contents\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>article\n          <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"l-container--md\"</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>h1 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-article__heading\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>section <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"c-editArea\"</span>\n              dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> __html<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>html <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> PagePostTemplate\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query PagePostBySlug(\n    $id: String!\n    ) {\n      site {\n        siteMetadata {\n          title\n        }\n    }\n    markdownRemark(\n      id: { eq: $id }\n    ) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"YYYY.MM.DD\")\n        description\n        hero\n        pagetype\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<h3 id=\"aboutmdファイルを追加し編集\">about.mdファイルを追加し編集</h3>\n<p>aboutページを追加します。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b7e4d889962f097a1a48da319300115a/a2510/entry416-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd1OZYA//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECAxD/2gAIAQEAAQUCJpUuZxOaP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAABARAAEC/9oACAEBAAY/Ao6KyP/EABkQAQEAAwEAAAAAAAAAAAAAAAERABAhMf/aAAgBAQABPyGJ5l0iaXFdIt7r/9oADAMBAAIAAwAAABAzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQACAwEAAAAAAAAAAAAAAAERIQAQMWH/2gAIAQEAAT8QFRQnzmWduFHSSiVzmFWEJSq6/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7e4d889962f097a1a48da319300115a/c54d4/entry416-1.webp 175w,\n/static/b7e4d889962f097a1a48da319300115a/a3432/entry416-1.webp 350w,\n/static/b7e4d889962f097a1a48da319300115a/426ac/entry416-1.webp 700w,\n/static/b7e4d889962f097a1a48da319300115a/a5d4d/entry416-1.webp 1000w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7e4d889962f097a1a48da319300115a/e52aa/entry416-1.jpg 175w,\n/static/b7e4d889962f097a1a48da319300115a/70ebb/entry416-1.jpg 350w,\n/static/b7e4d889962f097a1a48da319300115a/29d31/entry416-1.jpg 700w,\n/static/b7e4d889962f097a1a48da319300115a/a2510/entry416-1.jpg 1000w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7e4d889962f097a1a48da319300115a/29d31/entry416-1.jpg\"\n            alt=\"銀ねこアトリエとは？\"\n            title=\"銀ねこアトリエとは？\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\ntitle: 銀ねこアトリエとは？\ndate: 2014-05-14\npagetype: page\ndescription: 「銀ねこアトリエ」は私の技術的なチャレンジや生活や生き方を綴った公開備忘録です。\n---\n~ 省略 ~</code></pre></div>\n<p>これで個別ページが追加できるようになりました。</p>\n<h2 id=\"まとめ・個別ページの追加はとってもカンタン\">まとめ・個別ページの追加はとってもカンタン</h2>\n<p>とってもカンタンでしたね！</p>\n<p>次回「<em>Gatsbyブログサイト移行物語</em>」ではGatsbyサイトでの<a href=\"/blogs/entry418/\">OGP画像出力やプラグインHelmetを使ったSEO対応</a>の記事です。</p>\n<p>皆さんのコーディングライフの一助となれば幸いです。</p>\n<p>最後までお読みいただきありがとうございました。</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AEgatsby%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E6%B3%A8%E6%84%8F%E7%82%B9\">今までのGatsbyの記事と注意点</a></p>\n<ul>\n<li><a href=\"#%E3%81%93%E3%81%AE%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%E3%81%A7%E3%81%AF%E3%83%86%E3%83%BC%E3%83%9Egatsby-starter-blog%E3%82%92%E6%94%B9%E9%80%A0\">このシリーズではテーマGatsby Starter Blogを改造</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E5%80%8B%E5%88%A5%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E4%BD%9C%E3%82%8A%E6%96%B9\">個別ページテンプレートの作り方</a></p>\n</li>\n<li>\n<p><a href=\"#createpage%E3%81%A7%E5%80%8B%E5%88%A5%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\">createPageで個別ページを生成する</a></p>\n<ul>\n<li><a href=\"#%E5%80%8B%E5%88%A5%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88pagesjs%E3%81%AE%E7%B7%A8%E9%9B%86\">個別ページを出力するテンプレートpages.jsの編集</a></li>\n<li><a href=\"#aboutmd%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E7%B7%A8%E9%9B%86\">about.mdファイルを追加し編集</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81%E3%83%BB%E5%80%8B%E5%88%A5%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E8%BF%BD%E5%8A%A0%E3%81%AF%E3%81%A8%E3%81%A3%E3%81%A6%E3%82%82%E3%82%AB%E3%83%B3%E3%82%BF%E3%83%B3\">まとめ・個別ページの追加はとってもカンタン</a></p>\n</li>\n</ul>","frontmatter":{"title":"Gatsbyブログサイト移行物語6~個別ページテンプレート作成~","date":"2020.12.14","description":"GatsbyでプライバシーポリシーやAboutページなど記事一覧のループに含めたくないけどMarkDownで手軽に管理したいページを表示させるテンプレートを作りました。","lead":["GatsbyでプライバシーポリシーやAboutページなど記事一覧のループに含めたくないけどMarkDownで手軽に管理したいページを表示させるテンプレートを作りました。"],"hero":"2020/entry401.jpg","cateId":"web-developer","tags":["JavaScript","React","Gatsby"],"pagetype":"blog","modifieddate":"2021.01.12"}},"previous":{"fields":{"slug":"/blogs/entry415/"},"frontmatter":{"title":"2021年セブ島にオフショア会社設立。かみーゆ、YouTubeはじめました"}},"next":{"fields":{"slug":"/blogs/entry417/"},"frontmatter":{"title":"海外は治安が悪い？！住む場所を選んで上手に海外生活する方法"}}},"pageContext":{"id":"c3cf27f0-5951-5818-b8e0-3bef0c1cbb3c","previousPostId":"2b492630-42cc-5c66-9d5b-ec1332e1dbf9","nextPostId":"b5884721-13d9-5d15-8c08-9cc06cfa4bad","hero":"2020/entry401.jpg"}},"staticQueryHashes":["1145805751","2829560153","3000541721","3766793980"]}